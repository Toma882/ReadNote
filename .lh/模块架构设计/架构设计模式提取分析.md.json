{
    "sourceFile": "æ¨¡å—æ¶æ„è®¾è®¡/æ¶æ„è®¾è®¡æ¨¡å¼æå–åˆ†æ.md",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 6,
            "patches": [
                {
                    "date": 1767266898694,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1767267041127,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -199,8 +199,231 @@\n ```\r\n \r\n ---\r\n \r\n+### 6. CommunicationBus (é€šè®¯æ€»çº¿æ¨¡å¼) â­ **å¤šé¢‘é“æ¶æ„**\r\n+\r\n+**æ ¸å¿ƒå®šä¹‰ï¼š**\r\n+- ç»Ÿä¸€çš„é€šè®¯æ€»çº¿ç³»ç»Ÿï¼Œé€šè¿‡å¤šé¢‘é“æ¶æ„æä¾›å¤šç§é€šä¿¡æ¨¡å¼\r\n+- å››ç§é¢‘é“ï¼šå‘å¸ƒ-è®¢é˜…ã€ç‚¹å¯¹ç‚¹ã€æ•°æ®æ¨é€ã€è¯·æ±‚-å“åº”\r\n+- ç»Ÿä¸€æ¥å£å±‚è·¯ç”±åˆ°ä¸åŒé¢‘é“\r\n+\r\n+**æ ¸å¿ƒç‰¹ç‚¹ï¼š**\r\n+- **å¤šé¢‘é“æ¶æ„**ï¼šEventChannelã€MessageChannelã€PushChannelã€QueryChannel\r\n+- **ç»Ÿä¸€æ¥å£**ï¼šCommunicationBus æä¾›ç»Ÿä¸€å…¥å£\r\n+- **è·¯ç”±æœºåˆ¶**ï¼šæ ¹æ®é€šä¿¡ç±»å‹è‡ªåŠ¨è·¯ç”±åˆ°å¯¹åº”é¢‘é“\r\n+- **è§£è€¦è®¾è®¡**ï¼šåº”ç”¨å±‚ä¸ç›´æ¥ä¾èµ–å…·ä½“é¢‘é“å®ç°\r\n+\r\n+**é€‚ç”¨åœºæ™¯ï¼š**\r\n+- éœ€è¦å¤šç§é€šä¿¡æ¨¡å¼çš„ç³»ç»Ÿ\r\n+- äº‹ä»¶é©±åŠ¨æ¶æ„\r\n+- æ¨¡å—é—´è§£è€¦é€šä¿¡\r\n+- æ¸¸æˆå¼€å‘ä¸­çš„å„ç§é€šä¿¡éœ€æ±‚\r\n+\r\n+**æµç¨‹å›¾ï¼š**\r\n+```mermaid\r\n+flowchart TD\r\n+    A[å®¢æˆ·ç«¯è¯·æ±‚] --> B[CommunicationBus ç»Ÿä¸€æ¥å£]\r\n+    B --> C{é€šä¿¡ç±»å‹}\r\n+    C -->|å‘å¸ƒ-è®¢é˜…| D[EventChannel<br/>å¹¿æ’­äº‹ä»¶]\r\n+    C -->|ç‚¹å¯¹ç‚¹| E[MessageChannel<br/>æ¶ˆæ¯ä¼ é€’]\r\n+    C -->|æ•°æ®æ¨é€| F[PushChannel<br/>æ¨é€æ•°æ®]\r\n+    C -->|è¯·æ±‚-å“åº”| G[QueryChannel<br/>æŸ¥è¯¢å“åº”]\r\n+    D --> H[é€šçŸ¥æ‰€æœ‰è®¢é˜…è€…]\r\n+    E --> I[å‘é€ç»™ç›®æ ‡]\r\n+    F --> J[å¤„ç†æ•°æ®é˜Ÿåˆ—]\r\n+    G --> K[æ‰§è¡ŒæŸ¥è¯¢å¹¶è¿”å›]\r\n+    \r\n+    style B fill:#e1f5ff\r\n+    style C fill:#fff4e1\r\n+```\r\n+\r\n+---\r\n+\r\n+### 7. Template Configuration (æ¨¡æ¿åŒ–é…ç½®æ¨¡å¼)\r\n+\r\n+**æ ¸å¿ƒå®šä¹‰ï¼š**\r\n+- é€šè¿‡æ¨¡æ¿IDå®Œæˆå®Œæ•´é…ç½®\r\n+- æ¨¡æ¿è‡ªåŠ¨æŸ¥æ‰¾ç»„ä»¶å¹¶åˆå§‹åŒ–\r\n+- åŒä¸€ä¸ªæ¨¡æ¿æ”¯æŒä¸åŒçš„å‚æ•°é…ç½®\r\n+\r\n+**æ ¸å¿ƒç‰¹ç‚¹ï¼š**\r\n+- **æ¨¡æ¿é©±åŠ¨**ï¼šä¸€ä¸ªæ¨¡æ¿IDå³å¯å®Œæˆå®Œæ•´é…ç½®\r\n+- **è‡ªåŠ¨æŸ¥æ‰¾**ï¼šç³»ç»Ÿè‡ªåŠ¨æŸ¥æ‰¾æ‰€éœ€ç»„ä»¶ï¼Œæ— éœ€æ‰‹åŠ¨æ·»åŠ \r\n+- **å‚æ•°åŒ–é…ç½®**ï¼šåŒä¸€ä¸ªæ¨¡æ¿å¯ä»¥æœ‰ä¸åŒçš„å‚æ•°é…ç½®\r\n+- **ç»Ÿä¸€æµç¨‹**ï¼šæ‰€æœ‰ç±»å‹ä½¿ç”¨ç»Ÿä¸€çš„åˆå§‹åŒ–æµç¨‹\r\n+\r\n+**é€‚ç”¨åœºæ™¯ï¼š**\r\n+- éœ€è¦å¿«é€Ÿé…ç½®ç›¸ä¼¼å¯¹è±¡çš„ç³»ç»Ÿ\r\n+- æ•°æ®é©±åŠ¨çš„é…ç½®ç³»ç»Ÿ\r\n+- ç»„ä»¶è‡ªåŠ¨åˆå§‹åŒ–åœºæ™¯\r\n+- äº¤äº’ç³»ç»Ÿã€æŠ€èƒ½ç³»ç»Ÿç­‰\r\n+\r\n+**æµç¨‹å›¾ï¼š**\r\n+```mermaid\r\n+flowchart TD\r\n+    A[é…ç½®æ¨¡æ¿ID] --> B[æŸ¥æ‰¾æ¨¡æ¿é…ç½®]\r\n+    B --> C[è·å–ç»„ä»¶ç±»å‹åˆ—è¡¨]\r\n+    C --> D[è‡ªåŠ¨æŸ¥æ‰¾æ‰€éœ€ç»„ä»¶]\r\n+    D --> E[è·å–å‚æ•°é…ç½®]\r\n+    E --> F[è°ƒç”¨åˆå§‹åŒ–ç­–ç•¥]\r\n+    F --> G[é…ç½®ç»„ä»¶å‚æ•°]\r\n+    G --> H[å®Œæˆåˆå§‹åŒ–]\r\n+    \r\n+    style B fill:#e1f5ff\r\n+    style D fill:#fff4e1\r\n+```\r\n+\r\n+---\r\n+\r\n+### 8. Condition-Action Decoupling (æ¡ä»¶-åŠ¨ä½œè§£è€¦æ¨¡å¼)\r\n+\r\n+**æ ¸å¿ƒå®šä¹‰ï¼š**\r\n+- æ¡ä»¶ä¸åŠ¨ä½œå®Œå…¨è§£è€¦\r\n+- é€šè¿‡æšä¸¾IDå»ºç«‹æ˜ å°„å…³ç³»\r\n+- æ”¯æŒ1å¯¹å¤šã€å¤šå¯¹1ã€å¤šå¯¹å¤šçš„çµæ´»ç»‘å®š\r\n+\r\n+**æ ¸å¿ƒç‰¹ç‚¹ï¼š**\r\n+- **å®Œå…¨è§£è€¦**ï¼šæ¡ä»¶æ£€æŸ¥å’ŒåŠ¨ä½œæ‰§è¡Œç‹¬ç«‹\r\n+- **çµæ´»ç»‘å®š**ï¼šæ”¯æŒå¤šç§ç»‘å®šå…³ç³»ï¼ˆ1å¯¹1ã€1å¯¹å¤šã€å¤šå¯¹1ã€å¤šå¯¹å¤šï¼‰\r\n+- **æ˜ å°„è¡¨ç®¡ç†**ï¼šé€šè¿‡æ˜ å°„è¡¨ç®¡ç†æ¡ä»¶-åŠ¨ä½œå…³ç³»\r\n+- **æ˜“äºæ‰©å±•**ï¼šæ–°å¢æ¡ä»¶æˆ–åŠ¨ä½œä¸å½±å“ç°æœ‰é€»è¾‘\r\n+\r\n+**é€‚ç”¨åœºæ™¯ï¼š**\r\n+- è§¦å‘å™¨ç³»ç»Ÿ\r\n+- è§„åˆ™å¼•æ“\r\n+- äº‹ä»¶å“åº”ç³»ç»Ÿ\r\n+- æ¡ä»¶é©±åŠ¨çš„è¡Œä¸ºç³»ç»Ÿ\r\n+\r\n+**æµç¨‹å›¾ï¼š**\r\n+```mermaid\r\n+flowchart TD\r\n+    A[è§¦å‘äº‹ä»¶] --> B[æŸ¥æ‰¾æ¡ä»¶æ˜ å°„è¡¨]\r\n+    B --> C[æ£€æŸ¥æ¡ä»¶ID]\r\n+    C --> D{æ¡ä»¶æ˜¯å¦æ»¡è¶³?}\r\n+    D -->|æ˜¯| E[æŸ¥æ‰¾åŠ¨ä½œæ˜ å°„è¡¨]\r\n+    D -->|å¦| F[è·³è¿‡æ‰§è¡Œ]\r\n+    E --> G[æ‰§è¡Œå¯¹åº”åŠ¨ä½œ]\r\n+    G --> H[å®Œæˆå¤„ç†]\r\n+    F --> I[ç­‰å¾…ä¸‹æ¬¡è§¦å‘]\r\n+    \r\n+    style B fill:#e1f5ff\r\n+    style D fill:#fff4e1\r\n+```\r\n+\r\n+---\r\n+\r\n+### 9. Handler Strategy (Handlerç­–ç•¥æ¨¡å¼)\r\n+\r\n+**æ ¸å¿ƒå®šä¹‰ï¼š**\r\n+- é€šè¿‡Handlerç»„ä»¶çš„é¡ºåºæ‰§è¡Œå®ç°å¤æ‚æµç¨‹\r\n+- æ¯ä¸ªHandlerä¸“æ³¨å•ä¸€èŒè´£\r\n+- ä½¿ç”¨ç»Ÿä¸€çš„Contextä¼ é€’æ•°æ®\r\n+\r\n+**æ ¸å¿ƒç‰¹ç‚¹ï¼š**\r\n+- **ç­–ç•¥ç»„åˆ**ï¼šHandlerç»„ä»¶çµæ´»ç»„åˆ\r\n+- **ç®¡é“æ‰§è¡Œ**ï¼šHandleræŒ‰é¡ºåºæ‰§è¡Œï¼Œé€æ­¥å¢å¼ºContext\r\n+- **å•ä¸€èŒè´£**ï¼šæ¯ä¸ªHandlerä¸“æ³¨å•ä¸€åŠŸèƒ½\r\n+- **æ˜“äºæ‰©å±•**ï¼šæ–°å¢Handlerä¸å½±å“ç°æœ‰æµç¨‹\r\n+\r\n+**é€‚ç”¨åœºæ™¯ï¼š**\r\n+- æŠ€èƒ½ç³»ç»Ÿ\r\n+- æ•ˆæœç³»ç»Ÿ\r\n+- å¤šæ­¥éª¤å¤„ç†æµç¨‹\r\n+- éœ€è¦çµæ´»ç»„åˆçš„å¤„ç†ç³»ç»Ÿ\r\n+\r\n+**æµç¨‹å›¾ï¼š**\r\n+```mermaid\r\n+flowchart TD\r\n+    A[åˆ›å»ºContext] --> B[Handler1å¤„ç†]\r\n+    B --> C[å¢å¼ºContextæ•°æ®]\r\n+    C --> D[Handler2å¤„ç†]\r\n+    D --> E[å¢å¼ºContextæ•°æ®]\r\n+    E --> F[Handler3å¤„ç†]\r\n+    F --> G[å¢å¼ºContextæ•°æ®]\r\n+    G --> H[HandlerNå¤„ç†]\r\n+    H --> I[å®Œæˆå¤„ç†]\r\n+    \r\n+    style A fill:#e1f5ff\r\n+    style C fill:#fff4e1\r\n+    style E fill:#fff4e1\r\n+    style G fill:#fff4e1\r\n+```\r\n+\r\n+---\r\n+\r\n+### 10. Real-time Fetch (å®æ—¶è·å–æ¨¡å¼)\r\n+\r\n+**æ ¸å¿ƒå®šä¹‰ï¼š**\r\n+- æ¯æ¬¡è·å–æ•°æ®æ—¶å®æ—¶è®¡ç®—ï¼Œä¸ä¾èµ–ç¼“å­˜\r\n+- éå†æ‰€æœ‰å­ç³»ç»Ÿæ”¶é›†æœ€æ–°æ•°æ®\r\n+- é›¶dirtyæ ‡è®°ï¼Œé¿å…æ•°æ®åŒæ­¥é—®é¢˜\r\n+\r\n+**æ ¸å¿ƒç‰¹ç‚¹ï¼š**\r\n+- **å®æ—¶è®¡ç®—**ï¼šæ¯æ¬¡è·å–éƒ½æ˜¯æœ€æ–°æ•°æ®\r\n+- **é›¶dirtyæ ‡è®°**ï¼šä¸ä¾èµ–dirtyæ ‡è®°æœºåˆ¶\r\n+- **æŒ‰éœ€è®¡ç®—**ï¼šåªè®¡ç®—éœ€è¦çš„å±æ€§\r\n+- **æ•°æ®ä¸€è‡´æ€§**ï¼šä¿è¯æ•°æ®å§‹ç»ˆæ˜¯æœ€æ–°çš„\r\n+\r\n+**é€‚ç”¨åœºæ™¯ï¼š**\r\n+- å±æ€§è®¡ç®—ç³»ç»Ÿ\r\n+- å¤šå­ç³»ç»Ÿæ•°æ®æ±‡æ€»\r\n+- éœ€è¦å®æ—¶å‡†ç¡®æ•°æ®çš„åœºæ™¯\r\n+- é¿å…æ•°æ®åŒæ­¥é—®é¢˜çš„ç³»ç»Ÿ\r\n+\r\n+**æµç¨‹å›¾ï¼š**\r\n+```mermaid\r\n+flowchart TD\r\n+    A[GetAttributeè¯·æ±‚] --> B[è·å–åŸºç¡€å±æ€§]\r\n+    B --> C[éå†å­ç³»ç»Ÿåˆ—è¡¨]\r\n+    C --> D[å­ç³»ç»Ÿ1: è·å–å±æ€§]\r\n+    D --> E[å­ç³»ç»Ÿ2: è·å–å±æ€§]\r\n+    E --> F[å­ç³»ç»ŸN: è·å–å±æ€§]\r\n+    F --> G[æ±‡æ€»è®¡ç®—]\r\n+    G --> H[è¿”å›æœ€ç»ˆç»“æœ]\r\n+    \r\n+    style A fill:#e1f5ff\r\n+    style C fill:#fff4e1\r\n+    style G fill:#c8e6c9\r\n+```\r\n+\r\n+---\r\n+\r\n+### 11. DataHandleQueue (æ•°æ®é˜Ÿåˆ—è§£è€¦æ¨¡å¼)\r\n+\r\n+**æ ¸å¿ƒå®šä¹‰ï¼š**\r\n+- é€šè¿‡é˜Ÿåˆ—å®ç°æ¨¡å—é—´è§£è€¦é€šä¿¡\r\n+- æ¨¡å—é€šè¿‡é˜Ÿåˆ—å‘é€å’Œæ¥æ”¶æ•°æ®\r\n+- å¤„ç†å™¨æ˜ å°„è¡¨ç®¡ç†ä¸åŒç±»å‹çš„å¤„ç†\r\n+\r\n+**æ ¸å¿ƒç‰¹ç‚¹ï¼š**\r\n+- **é˜Ÿåˆ—è§£è€¦**ï¼šæ¨¡å—é—´é€šè¿‡é˜Ÿåˆ—é€šä¿¡ï¼Œä¸ç›´æ¥ä¾èµ–\r\n+- **å¼‚æ­¥å¤„ç†**ï¼šæ”¯æŒå¼‚æ­¥æ•°æ®å¤„ç†\r\n+- **å¤„ç†å™¨æ˜ å°„**ï¼šé€šè¿‡æ˜ å°„è¡¨ç®¡ç†å¤„ç†å™¨\r\n+- **æ¨¡å—ç‹¬ç«‹**ï¼šæ¨¡å—å¯ä»¥ç‹¬ç«‹å¼€å‘ã€æµ‹è¯•\r\n+\r\n+**é€‚ç”¨åœºæ™¯ï¼š**\r\n+- æ¨¡å—é—´è§£è€¦é€šä¿¡\r\n+- å¼‚æ­¥æ•°æ®å¤„ç†\r\n+- äº‹ä»¶é˜Ÿåˆ—ç³»ç»Ÿ\r\n+- éœ€è¦è§£è€¦çš„å¤šæ¨¡å—ç³»ç»Ÿ\r\n+\r\n+**æµç¨‹å›¾ï¼š**\r\n+```mermaid\r\n+flowchart TD\r\n+    A[æ¨¡å—Aå‘é€æ•°æ®] --> B[DataHandleQueueæ¥æ”¶]\r\n+    B --> C[æŸ¥æ‰¾å¤„ç†å™¨æ˜ å°„è¡¨]\r\n+    C --> D[æ‰¾åˆ°å¯¹åº”å¤„ç†å™¨]\r\n+    D --> E[å¤„ç†å™¨å¤„ç†æ•°æ®]\r\n+    E --> F[é€šçŸ¥æ¨¡å—B]\r\n+    F --> G[æ¨¡å—Bæ¥æ”¶æ•°æ®]\r\n+    \r\n+    style B fill:#e1f5ff\r\n+    style C fill:#fff4e1\r\n+```\r\n+\r\n+---\r\n+\r\n ## ğŸ“Š æ¨¡å¼åˆ†ç±»å»ºè®®\r\n \r\n ### æ–°å¢åˆ†ç±»ï¼šArchitectural Patterns (æ¶æ„æ¨¡å¼)\r\n \r\n"
                },
                {
                    "date": 1767267050572,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -428,10 +428,16 @@\n ### æ–°å¢åˆ†ç±»ï¼šArchitectural Patterns (æ¶æ„æ¨¡å¼)\r\n \r\n ```\r\n Architectural Patterns (æ¶æ„æ¨¡å¼) - ç³»ç»Ÿçº§æ¶æ„è®¾è®¡\r\n-â”œâ”€â”€ Context (ä¸Šä¸‹æ–‡æ¨¡å¼) - ç»Ÿä¸€æ¥å£ï¼Œæ¸è¿›å¼å¢å¼ºï¼ŒçŠ¶æ€ç»´æŠ¤\r\n+â”œâ”€â”€ Context (ä¸Šä¸‹æ–‡æ¨¡å¼) â­ - ç»Ÿä¸€æ¥å£ï¼Œæ¸è¿›å¼å¢å¼ºï¼ŒçŠ¶æ€ç»´æŠ¤\r\n+â”œâ”€â”€ CommunicationBus (é€šè®¯æ€»çº¿æ¨¡å¼) â­ - å¤šé¢‘é“æ¶æ„ï¼Œç»Ÿä¸€è·¯ç”±\r\n â”œâ”€â”€ PipelineFilter (ç®¡é“-è¿‡æ»¤å™¨æ¨¡å¼) - æ•°æ®æµå¤„ç†ï¼Œè¿‡æ»¤å™¨ç»„åˆ\r\n+â”œâ”€â”€ TemplateConfiguration (æ¨¡æ¿åŒ–é…ç½®æ¨¡å¼) - æ¨¡æ¿é©±åŠ¨ï¼Œè‡ªåŠ¨åˆå§‹åŒ–\r\n+â”œâ”€â”€ ConditionActionDecoupling (æ¡ä»¶-åŠ¨ä½œè§£è€¦æ¨¡å¼) - æ¡ä»¶åŠ¨ä½œåˆ†ç¦»ï¼Œçµæ´»ç»‘å®š\r\n+â”œâ”€â”€ HandlerStrategy (Handlerç­–ç•¥æ¨¡å¼) - Handlerç»„åˆï¼Œç®¡é“æ‰§è¡Œ\r\n+â”œâ”€â”€ RealTimeFetch (å®æ—¶è·å–æ¨¡å¼) - å®æ—¶è®¡ç®—ï¼Œé›¶dirtyæ ‡è®°\r\n+â”œâ”€â”€ DataHandleQueue (æ•°æ®é˜Ÿåˆ—è§£è€¦æ¨¡å¼) - é˜Ÿåˆ—é€šä¿¡ï¼Œæ¨¡å—è§£è€¦\r\n â”œâ”€â”€ DomainControlsLoop (é¢†åŸŸæ§åˆ¶å¾ªç¯æ¨¡å¼) - é¢†åŸŸé©±åŠ¨ï¼Œå¾ªç¯å¤„ç†\r\n â”œâ”€â”€ Microkernel (å¾®å†…æ ¸æ¨¡å¼) - æœ€å°æ ¸å¿ƒï¼Œæ’ä»¶æ‰©å±•\r\n â””â”€â”€ FormulaSystem (å…¬å¼ç³»ç»Ÿæ¨¡å¼) - ä¸‰å±‚æ¶æ„ï¼ŒåŠ¨æ€ç¼–è¯‘\r\n ```\r\n@@ -439,18 +445,24 @@\n ---\r\n \r\n ## ğŸ¯ æ¨èä¼˜å…ˆçº§\r\n \r\n-### é«˜ä¼˜å…ˆçº§ï¼ˆå»ºè®®ç«‹å³æ·»åŠ ï¼‰\r\n+### é«˜ä¼˜å…ˆçº§ï¼ˆå»ºè®®ç«‹å³æ·»åŠ ï¼‰â­\r\n 1. **Context (ä¸Šä¸‹æ–‡æ¨¡å¼)** - ç”¨æˆ·è‡ªåˆ›ï¼Œæ ¸å¿ƒè®¾è®¡æ¨¡å¼\r\n-2. **Pipeline-Filter (ç®¡é“-è¿‡æ»¤å™¨æ¨¡å¼)** - å¸¸è§æ¶æ„æ¨¡å¼ï¼Œå®ç”¨æ€§å¼º\r\n+2. **CommunicationBus (é€šè®¯æ€»çº¿æ¨¡å¼)** - å¤šé¢‘é“æ¶æ„ï¼Œç»Ÿä¸€é€šä¿¡æ¥å£\r\n+3. **Template Configuration (æ¨¡æ¿åŒ–é…ç½®æ¨¡å¼)** - æ¨¡æ¿é©±åŠ¨ï¼Œè‡ªåŠ¨åˆå§‹åŒ–\r\n \r\n ### ä¸­ä¼˜å…ˆçº§ï¼ˆå¯è€ƒè™‘æ·»åŠ ï¼‰\r\n-3. **Microkernel (å¾®å†…æ ¸æ¨¡å¼)** - æ¡†æ¶è®¾è®¡å¸¸ç”¨\r\n-4. **Formula System (å…¬å¼ç³»ç»Ÿæ¨¡å¼)** - ç‰¹å®šåœºæ™¯å¾ˆæœ‰ä»·å€¼\r\n+4. **Handler Strategy (Handlerç­–ç•¥æ¨¡å¼)** - Handlerç»„åˆï¼Œçµæ´»æ‰©å±•\r\n+5. **Real-time Fetch (å®æ—¶è·å–æ¨¡å¼)** - å®æ—¶è®¡ç®—ï¼Œé›¶dirtyæ ‡è®°\r\n+6. **Condition-Action Decoupling (æ¡ä»¶-åŠ¨ä½œè§£è€¦æ¨¡å¼)** - æ¡ä»¶åŠ¨ä½œåˆ†ç¦»\r\n+7. **Pipeline-Filter (ç®¡é“-è¿‡æ»¤å™¨æ¨¡å¼)** - å¸¸è§æ¶æ„æ¨¡å¼ï¼Œå®ç”¨æ€§å¼º\r\n+8. **DataHandleQueue (æ•°æ®é˜Ÿåˆ—è§£è€¦æ¨¡å¼)** - é˜Ÿåˆ—é€šä¿¡ï¼Œæ¨¡å—è§£è€¦\r\n \r\n ### ä½ä¼˜å…ˆçº§ï¼ˆå¯é€‰ï¼‰\r\n-5. **Domain Controls Loop (é¢†åŸŸæ§åˆ¶å¾ªç¯æ¨¡å¼)** - ç‰¹å®šäº DDD åœºæ™¯\r\n+9. **Microkernel (å¾®å†…æ ¸æ¨¡å¼)** - æ¡†æ¶è®¾è®¡å¸¸ç”¨\r\n+10. **Formula System (å…¬å¼ç³»ç»Ÿæ¨¡å¼)** - ç‰¹å®šåœºæ™¯å¾ˆæœ‰ä»·å€¼\r\n+11. **Domain Controls Loop (é¢†åŸŸæ§åˆ¶å¾ªç¯æ¨¡å¼)** - ç‰¹å®šäº DDD åœºæ™¯\r\n \r\n ---\r\n \r\n ## ğŸ’¡ è®¾è®¡æ€è·¯æ€»ç»“\r\n"
                },
                {
                    "date": 1767267140938,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -390,36 +390,58 @@\n \r\n ### 11. DataHandleQueue (æ•°æ®é˜Ÿåˆ—è§£è€¦æ¨¡å¼)\r\n \r\n **æ ¸å¿ƒå®šä¹‰ï¼š**\r\n-- é€šè¿‡é˜Ÿåˆ—å®ç°æ¨¡å—é—´è§£è€¦é€šä¿¡\r\n-- æ¨¡å—é€šè¿‡é˜Ÿåˆ—å‘é€å’Œæ¥æ”¶æ•°æ®\r\n-- å¤„ç†å™¨æ˜ å°„è¡¨ç®¡ç†ä¸åŒç±»å‹çš„å¤„ç†\r\n+- é€šè¿‡é˜Ÿåˆ—å®ç°æ¨¡å—é—´è§£è€¦é€šä¿¡ï¼Œæ”¯æŒæ•°æ®æ¨é€å’ŒæŸ¥è¯¢å§”æ‰˜ä¸¤ç§æœºåˆ¶\r\n+- æ¨¡å—é€šè¿‡é˜Ÿåˆ—å‘é€å’Œæ¥æ”¶æ•°æ®ï¼Œä¸ç›´æ¥ç›¸äº’è°ƒç”¨\r\n+- å¤„ç†å™¨æ˜ å°„è¡¨ç®¡ç†ä¸åŒç±»å‹çš„å¤„ç†ï¼ŒæŸ¥è¯¢å§”æ‰˜è¡¨ç®¡ç†æŸ¥è¯¢æ¥å£\r\n \r\n **æ ¸å¿ƒç‰¹ç‚¹ï¼š**\r\n+- **åŒé‡æœºåˆ¶**ï¼š\r\n+  - **æ•°æ®æ¨é€æœºåˆ¶**ï¼šPushData + ProcessDataHandlerï¼Œç”¨äºæ•°æ®å˜åŒ–é€šçŸ¥\r\n+  - **æŸ¥è¯¢å§”æ‰˜æœºåˆ¶**ï¼šSetQueryDelegateï¼Œç”¨äºç»Ÿä¸€æŸ¥è¯¢æ¥å£\r\n - **é˜Ÿåˆ—è§£è€¦**ï¼šæ¨¡å—é—´é€šè¿‡é˜Ÿåˆ—é€šä¿¡ï¼Œä¸ç›´æ¥ä¾èµ–\r\n-- **å¼‚æ­¥å¤„ç†**ï¼šæ”¯æŒå¼‚æ­¥æ•°æ®å¤„ç†\r\n-- **å¤„ç†å™¨æ˜ å°„**ï¼šé€šè¿‡æ˜ å°„è¡¨ç®¡ç†å¤„ç†å™¨\r\n-- **æ¨¡å—ç‹¬ç«‹**ï¼šæ¨¡å—å¯ä»¥ç‹¬ç«‹å¼€å‘ã€æµ‹è¯•\r\n+- **å¤„ç†å™¨æ˜ å°„**ï¼šé€šè¿‡ SetProcessHandleMapping æ³¨å†Œå¤„ç†å™¨\r\n+- **æŸ¥è¯¢ç»Ÿä¸€**ï¼šé€šè¿‡ SetQueryDelegate ç»Ÿä¸€ç®¡ç†æŸ¥è¯¢æ¥å£\r\n+- **æ¨¡å—ç‹¬ç«‹**ï¼šæ¨¡å—å¯ä»¥ç‹¬ç«‹å¼€å‘ã€æµ‹è¯•ï¼Œé€šè¿‡é˜Ÿåˆ—è§£è€¦\r\n \r\n+**ä½¿ç”¨æ–¹å¼ï¼ˆä»¥ UnitData ä¸ºä¾‹ï¼‰ï¼š**\r\n+1. **åˆå§‹åŒ–**ï¼šåˆ›å»º DataHandleQueueï¼Œå°†æ‰€æœ‰å­ç³»ç»Ÿæ·»åŠ ä¸º Handler\r\n+2. **æ³¨å†Œå¤„ç†å™¨**ï¼šå„å­ç³»ç»Ÿé€šè¿‡ `SetProcessHandleMapping()` æ³¨å†Œæ•°æ®å¤„ç†å™¨\r\n+3. **æ³¨å†ŒæŸ¥è¯¢**ï¼šé€šè¿‡ `SetQueryDelegate(queryId, function)` æ³¨å†ŒæŸ¥è¯¢å‡½æ•°\r\n+4. **æ•°æ®æ¨é€**ï¼šå¤–éƒ¨ç³»ç»Ÿé€šè¿‡ `PushData(dataType, data)` æ¨é€æ•°æ®å˜åŒ–\r\n+5. **å¤„ç†æ•°æ®**ï¼šè°ƒç”¨ `ProcessDataHandler()` æ‰¹é‡å¤„ç†é˜Ÿåˆ—ä¸­çš„æ•°æ®\r\n+\r\n **é€‚ç”¨åœºæ™¯ï¼š**\r\n+- å¤šå­ç³»ç»ŸååŒçš„ç³»ç»Ÿï¼ˆå¦‚ UnitData ç®¡ç†è£…å¤‡ã€æŠ€èƒ½ã€çŠ¶æ€ç­‰å­ç³»ç»Ÿï¼‰\r\n - æ¨¡å—é—´è§£è€¦é€šä¿¡\r\n-- å¼‚æ­¥æ•°æ®å¤„ç†\r\n-- äº‹ä»¶é˜Ÿåˆ—ç³»ç»Ÿ\r\n-- éœ€è¦è§£è€¦çš„å¤šæ¨¡å—ç³»ç»Ÿ\r\n+- éœ€è¦ç»Ÿä¸€æŸ¥è¯¢æ¥å£çš„ç³»ç»Ÿ\r\n+- æ•°æ®å˜åŒ–éœ€è¦é€šçŸ¥å¤šä¸ªæ¨¡å—çš„åœºæ™¯\r\n \r\n **æµç¨‹å›¾ï¼š**\r\n ```mermaid\r\n flowchart TD\r\n-    A[æ¨¡å—Aå‘é€æ•°æ®] --> B[DataHandleQueueæ¥æ”¶]\r\n-    B --> C[æŸ¥æ‰¾å¤„ç†å™¨æ˜ å°„è¡¨]\r\n-    C --> D[æ‰¾åˆ°å¯¹åº”å¤„ç†å™¨]\r\n-    D --> E[å¤„ç†å™¨å¤„ç†æ•°æ®]\r\n-    E --> F[é€šçŸ¥æ¨¡å—B]\r\n-    F --> G[æ¨¡å—Bæ¥æ”¶æ•°æ®]\r\n+    A[å¤–éƒ¨ç³»ç»Ÿ/å­ç³»ç»Ÿ] --> B[PushData<br/>æ¨é€æ•°æ®å˜åŒ–]\r\n+    B --> C[DataHandleQueue<br/>æ•°æ®é˜Ÿåˆ—]\r\n+    C --> D[ProcessDataHandler<br/>å¤„ç†æ•°æ®]\r\n+    D --> E[æŸ¥æ‰¾å¤„ç†å™¨æ˜ å°„è¡¨]\r\n+    E --> F[æ‰¾åˆ°å¯¹åº”å¤„ç†å™¨]\r\n+    F --> G[è°ƒç”¨å­ç³»ç»Ÿå¤„ç†å™¨]\r\n+    G --> H[å­ç³»ç»Ÿå¤„ç†æ•°æ®]\r\n     \r\n-    style B fill:#e1f5ff\r\n-    style C fill:#fff4e1\r\n+    I[å¤–éƒ¨æŸ¥è¯¢] --> J[QueryData<br/>æŸ¥è¯¢æ•°æ®]\r\n+    J --> K[æŸ¥æ‰¾æŸ¥è¯¢å§”æ‰˜è¡¨]\r\n+    K --> L[æ‰¾åˆ°å¯¹åº”å§”æ‰˜å‡½æ•°]\r\n+    L --> M[æ‰§è¡ŒæŸ¥è¯¢å¹¶è¿”å›]\r\n+    \r\n+    N[åˆå§‹åŒ–] --> O[AddHandler<br/>æ·»åŠ å­ç³»ç»Ÿ]\r\n+    O --> P[SetProcessHandleMapping<br/>æ³¨å†Œå¤„ç†å™¨]\r\n+    P --> Q[SetQueryDelegate<br/>æ³¨å†ŒæŸ¥è¯¢]\r\n+    \r\n+    style C fill:#e1f5ff\r\n+    style E fill:#fff4e1\r\n+    style K fill:#fff4e1\r\n+    style O fill:#c8e6c9\r\n ```\r\n \r\n ---\r\n \r\n"
                },
                {
                    "date": 1767267210768,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -387,21 +387,27 @@\n ```\r\n \r\n ---\r\n \r\n-### 11. DataHandleQueue (æ•°æ®é˜Ÿåˆ—è§£è€¦æ¨¡å¼)\r\n+### 11. DataHandleQueue (æ•°æ®é˜Ÿåˆ—è§£è€¦æ¨¡å¼) â­ **è´£ä»»é“¾ + é˜Ÿåˆ—è§£è€¦**\r\n \r\n **æ ¸å¿ƒå®šä¹‰ï¼š**\r\n - é€šè¿‡é˜Ÿåˆ—å®ç°æ¨¡å—é—´è§£è€¦é€šä¿¡ï¼Œæ”¯æŒæ•°æ®æ¨é€å’ŒæŸ¥è¯¢å§”æ‰˜ä¸¤ç§æœºåˆ¶\r\n+- **è´£ä»»é“¾ç‰¹æ€§**ï¼šå¤šä¸ªå¤„ç†å™¨æŒ‰é¡ºåºå¤„ç†æ•°æ®ï¼Œæ¯ä¸ªå¤„ç†å™¨æ£€æŸ¥æ˜¯å¦æœ‰è‡ªå·±éœ€è¦å¤„ç†çš„æ•°æ®ç±»å‹\r\n - æ¨¡å—é€šè¿‡é˜Ÿåˆ—å‘é€å’Œæ¥æ”¶æ•°æ®ï¼Œä¸ç›´æ¥ç›¸äº’è°ƒç”¨\r\n - å¤„ç†å™¨æ˜ å°„è¡¨ç®¡ç†ä¸åŒç±»å‹çš„å¤„ç†ï¼ŒæŸ¥è¯¢å§”æ‰˜è¡¨ç®¡ç†æŸ¥è¯¢æ¥å£\r\n \r\n **æ ¸å¿ƒç‰¹ç‚¹ï¼š**\r\n - **åŒé‡æœºåˆ¶**ï¼š\r\n   - **æ•°æ®æ¨é€æœºåˆ¶**ï¼šPushData + ProcessDataHandlerï¼Œç”¨äºæ•°æ®å˜åŒ–é€šçŸ¥\r\n   - **æŸ¥è¯¢å§”æ‰˜æœºåˆ¶**ï¼šSetQueryDelegateï¼Œç”¨äºç»Ÿä¸€æŸ¥è¯¢æ¥å£\r\n+- **è´£ä»»é“¾å¤„ç†**ï¼š\r\n+  - å¤šä¸ªå¤„ç†å™¨ï¼ˆhandlersï¼‰æŒ‰é¡ºåºæ’åˆ—\r\n+  - æ¯ä¸ªå¤„ç†å™¨æ£€æŸ¥æ˜¯å¦æœ‰è‡ªå·±éœ€è¦å¤„ç†çš„æ•°æ®ç±»å‹\r\n+  - å¦‚æœæœ‰æ•°æ®ï¼Œå°±å¤„ç†å¹¶å¯èƒ½æå‰è¿”å›\r\n+  - å¦‚æœæ²¡æœ‰ï¼Œå°±ç»§ç»­ä¼ é€’ç»™ä¸‹ä¸€ä¸ªå¤„ç†å™¨ï¼ˆé€šè¿‡éå†æœºåˆ¶ï¼‰\r\n - **é˜Ÿåˆ—è§£è€¦**ï¼šæ¨¡å—é—´é€šè¿‡é˜Ÿåˆ—é€šä¿¡ï¼Œä¸ç›´æ¥ä¾èµ–\r\n-- **å¤„ç†å™¨æ˜ å°„**ï¼šé€šè¿‡ SetProcessHandleMapping æ³¨å†Œå¤„ç†å™¨\r\n+- **å¤„ç†å™¨æ˜ å°„**ï¼šé€šè¿‡ SetProcessHandleMapping æ³¨å†Œå¤„ç†å™¨æ˜ å°„è¡¨\r\n - **æŸ¥è¯¢ç»Ÿä¸€**ï¼šé€šè¿‡ SetQueryDelegate ç»Ÿä¸€ç®¡ç†æŸ¥è¯¢æ¥å£\r\n - **æ¨¡å—ç‹¬ç«‹**ï¼šæ¨¡å—å¯ä»¥ç‹¬ç«‹å¼€å‘ã€æµ‹è¯•ï¼Œé€šè¿‡é˜Ÿåˆ—è§£è€¦\r\n \r\n **ä½¿ç”¨æ–¹å¼ï¼ˆä»¥ UnitData ä¸ºä¾‹ï¼‰ï¼š**\r\n"
                },
                {
                    "date": 1767267218525,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -427,27 +427,47 @@\n ```mermaid\r\n flowchart TD\r\n     A[å¤–éƒ¨ç³»ç»Ÿ/å­ç³»ç»Ÿ] --> B[PushData<br/>æ¨é€æ•°æ®å˜åŒ–]\r\n     B --> C[DataHandleQueue<br/>æ•°æ®é˜Ÿåˆ—]\r\n-    C --> D[ProcessDataHandler<br/>å¤„ç†æ•°æ®]\r\n-    D --> E[æŸ¥æ‰¾å¤„ç†å™¨æ˜ å°„è¡¨]\r\n-    E --> F[æ‰¾åˆ°å¯¹åº”å¤„ç†å™¨]\r\n-    F --> G[è°ƒç”¨å­ç³»ç»Ÿå¤„ç†å™¨]\r\n-    G --> H[å­ç³»ç»Ÿå¤„ç†æ•°æ®]\r\n+    C --> D[ProcessDataHandler<br/>å¼€å§‹è´£ä»»é“¾å¤„ç†]\r\n     \r\n-    I[å¤–éƒ¨æŸ¥è¯¢] --> J[QueryData<br/>æŸ¥è¯¢æ•°æ®]\r\n-    J --> K[æŸ¥æ‰¾æŸ¥è¯¢å§”æ‰˜è¡¨]\r\n-    K --> L[æ‰¾åˆ°å¯¹åº”å§”æ‰˜å‡½æ•°]\r\n-    L --> M[æ‰§è¡ŒæŸ¥è¯¢å¹¶è¿”å›]\r\n+    D --> E[éå†å¤„ç†å™¨åˆ—è¡¨]\r\n+    E --> F[å¤„ç†å™¨1: ProcessDataHandler]\r\n+    F --> G{æ£€æŸ¥æ˜¯å¦æœ‰<br/>éœ€è¦å¤„ç†çš„æ•°æ®?}\r\n+    G -->|æœ‰| H[å¤„ç†æ•°æ®å¹¶è¿”å›]\r\n+    G -->|æ— | I[ç»§ç»­ä¸‹ä¸€ä¸ªå¤„ç†å™¨]\r\n     \r\n-    N[åˆå§‹åŒ–] --> O[AddHandler<br/>æ·»åŠ å­ç³»ç»Ÿ]\r\n-    O --> P[SetProcessHandleMapping<br/>æ³¨å†Œå¤„ç†å™¨]\r\n-    P --> Q[SetQueryDelegate<br/>æ³¨å†ŒæŸ¥è¯¢]\r\n+    I --> J[å¤„ç†å™¨2: ProcessDataHandler]\r\n+    J --> K{æ£€æŸ¥æ˜¯å¦æœ‰<br/>éœ€è¦å¤„ç†çš„æ•°æ®?}\r\n+    K -->|æœ‰| L[å¤„ç†æ•°æ®å¹¶è¿”å›]\r\n+    K -->|æ— | M[ç»§ç»­ä¸‹ä¸€ä¸ªå¤„ç†å™¨]\r\n     \r\n+    M --> N[å¤„ç†å™¨N: ProcessDataHandler]\r\n+    N --> O{æ£€æŸ¥æ˜¯å¦æœ‰<br/>éœ€è¦å¤„ç†çš„æ•°æ®?}\r\n+    O -->|æœ‰| P[å¤„ç†æ•°æ®]\r\n+    O -->|æ— | Q[è´£ä»»é“¾ç»“æŸ]\r\n+    \r\n+    H --> R[OnDataHandler<br/>éå†processHandlerMapping]\r\n+    L --> R\r\n+    P --> R\r\n+    R --> S[HandleAllData<br/>å¤„ç†é˜Ÿåˆ—æ•°æ®]\r\n+    S --> T[è°ƒç”¨å¯¹åº”å¤„ç†å‡½æ•°]\r\n+    \r\n+    U[å¤–éƒ¨æŸ¥è¯¢] --> V[QueryData<br/>æŸ¥è¯¢æ•°æ®]\r\n+    V --> W[æŸ¥æ‰¾æŸ¥è¯¢å§”æ‰˜è¡¨]\r\n+    W --> X[æ‰¾åˆ°å¯¹åº”å§”æ‰˜å‡½æ•°]\r\n+    X --> Y[æ‰§è¡ŒæŸ¥è¯¢å¹¶è¿”å›]\r\n+    \r\n+    Z[åˆå§‹åŒ–] --> AA[AddHandler<br/>æ·»åŠ å­ç³»ç»Ÿåˆ°è´£ä»»é“¾]\r\n+    AA --> BB[SetProcessHandleMapping<br/>æ³¨å†Œå¤„ç†å™¨æ˜ å°„è¡¨]\r\n+    BB --> CC[SetQueryDelegate<br/>æ³¨å†ŒæŸ¥è¯¢]\r\n+    \r\n     style C fill:#e1f5ff\r\n-    style E fill:#fff4e1\r\n-    style K fill:#fff4e1\r\n-    style O fill:#c8e6c9\r\n+    style D fill:#fff4e1\r\n+    style G fill:#ffccbc\r\n+    style K fill:#ffccbc\r\n+    style O fill:#ffccbc\r\n+    style AA fill:#c8e6c9\r\n ```\r\n \r\n ---\r\n \r\n"
                },
                {
                    "date": 1767267232718,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -483,9 +483,9 @@\n â”œâ”€â”€ TemplateConfiguration (æ¨¡æ¿åŒ–é…ç½®æ¨¡å¼) - æ¨¡æ¿é©±åŠ¨ï¼Œè‡ªåŠ¨åˆå§‹åŒ–\r\n â”œâ”€â”€ ConditionActionDecoupling (æ¡ä»¶-åŠ¨ä½œè§£è€¦æ¨¡å¼) - æ¡ä»¶åŠ¨ä½œåˆ†ç¦»ï¼Œçµæ´»ç»‘å®š\r\n â”œâ”€â”€ HandlerStrategy (Handlerç­–ç•¥æ¨¡å¼) - Handlerç»„åˆï¼Œç®¡é“æ‰§è¡Œ\r\n â”œâ”€â”€ RealTimeFetch (å®æ—¶è·å–æ¨¡å¼) - å®æ—¶è®¡ç®—ï¼Œé›¶dirtyæ ‡è®°\r\n-â”œâ”€â”€ DataHandleQueue (æ•°æ®é˜Ÿåˆ—è§£è€¦æ¨¡å¼) - é˜Ÿåˆ—é€šä¿¡ï¼Œæ¨¡å—è§£è€¦\r\n+â”œâ”€â”€ DataHandleQueue (æ•°æ®é˜Ÿåˆ—è§£è€¦æ¨¡å¼) â­ - è´£ä»»é“¾ + é˜Ÿåˆ—è§£è€¦ï¼ŒåŒé‡æœºåˆ¶\r\n â”œâ”€â”€ DomainControlsLoop (é¢†åŸŸæ§åˆ¶å¾ªç¯æ¨¡å¼) - é¢†åŸŸé©±åŠ¨ï¼Œå¾ªç¯å¤„ç†\r\n â”œâ”€â”€ Microkernel (å¾®å†…æ ¸æ¨¡å¼) - æœ€å°æ ¸å¿ƒï¼Œæ’ä»¶æ‰©å±•\r\n â””â”€â”€ FormulaSystem (å…¬å¼ç³»ç»Ÿæ¨¡å¼) - ä¸‰å±‚æ¶æ„ï¼ŒåŠ¨æ€ç¼–è¯‘\r\n ```\r\n@@ -503,9 +503,9 @@\n 4. **Handler Strategy (Handlerç­–ç•¥æ¨¡å¼)** - Handlerç»„åˆï¼Œçµæ´»æ‰©å±•\r\n 5. **Real-time Fetch (å®æ—¶è·å–æ¨¡å¼)** - å®æ—¶è®¡ç®—ï¼Œé›¶dirtyæ ‡è®°\r\n 6. **Condition-Action Decoupling (æ¡ä»¶-åŠ¨ä½œè§£è€¦æ¨¡å¼)** - æ¡ä»¶åŠ¨ä½œåˆ†ç¦»\r\n 7. **Pipeline-Filter (ç®¡é“-è¿‡æ»¤å™¨æ¨¡å¼)** - å¸¸è§æ¶æ„æ¨¡å¼ï¼Œå®ç”¨æ€§å¼º\r\n-8. **DataHandleQueue (æ•°æ®é˜Ÿåˆ—è§£è€¦æ¨¡å¼)** - é˜Ÿåˆ—é€šä¿¡ï¼Œæ¨¡å—è§£è€¦\r\n+8. **DataHandleQueue (æ•°æ®é˜Ÿåˆ—è§£è€¦æ¨¡å¼)** â­ - è´£ä»»é“¾ + é˜Ÿåˆ—è§£è€¦ï¼ŒåŒé‡æœºåˆ¶\r\n \r\n ### ä½ä¼˜å…ˆçº§ï¼ˆå¯é€‰ï¼‰\r\n 9. **Microkernel (å¾®å†…æ ¸æ¨¡å¼)** - æ¡†æ¶è®¾è®¡å¸¸ç”¨\r\n 10. **Formula System (å…¬å¼ç³»ç»Ÿæ¨¡å¼)** - ç‰¹å®šåœºæ™¯å¾ˆæœ‰ä»·å€¼\r\n"
                }
            ],
            "date": 1767266898694,
            "name": "Commit-0",
            "content": "# ğŸ¯ æ¶æ„è®¾è®¡æ¨¡å¼æå–åˆ†æ\r\n\r\n## ğŸ“‹ æ¦‚è¿°\r\n\r\nä»æ¶æ„è®¾è®¡æ–‡æ¡£ä¸­æå–ç‹¬ç‰¹çš„è®¾è®¡æ¨¡å¼å’Œæ€è·¯ï¼Œè¡¥å……åˆ°è®¾è®¡æ¨¡å¼åº“ä¸­ã€‚\r\n\r\n---\r\n\r\n## ğŸ†• å¯è¡¥å……çš„è®¾è®¡æ¨¡å¼\r\n\r\n### 1. Context (ä¸Šä¸‹æ–‡æ¨¡å¼) â­ **è‡ªåˆ›æ¨¡å¼**\r\n\r\n**æ ¸å¿ƒå®šä¹‰ï¼š**\r\n- é€šè¿‡ç»Ÿä¸€çš„ä¸Šä¸‹æ–‡æ¥å£ï¼Œå®ç°æ¸è¿›å¼å¢å¼ºå’ŒçŠ¶æ€ç»´æŠ¤\r\n- æä¾›ç»Ÿä¸€æ¥å£ï¼Œéšè—å†…éƒ¨å¤æ‚æ€§\r\n- æ”¯æŒçŠ¶æ€çš„ç»Ÿä¸€ç®¡ç†å’Œä¼ é€’\r\n\r\n**æ ¸å¿ƒç‰¹ç‚¹ï¼š**\r\n- **ç»Ÿä¸€æ¥å£**ï¼šæ‰€æœ‰æ“ä½œé€šè¿‡ Context ç»Ÿä¸€å…¥å£\r\n- **æ¸è¿›å¼å¢å¼º**ï¼šåŠŸèƒ½å¯ä»¥é€æ­¥æ·»åŠ åˆ° Context ä¸­\r\n- **çŠ¶æ€ç»´æŠ¤**ï¼šContext ç»´æŠ¤ç³»ç»ŸçŠ¶æ€ï¼Œé¿å…çŠ¶æ€åˆ†æ•£\r\n- **è§£è€¦è®¾è®¡**ï¼šå®¢æˆ·ç«¯ä¸ç›´æ¥ä¾èµ–å…·ä½“å®ç°\r\n\r\n**é€‚ç”¨åœºæ™¯ï¼š**\r\n- éœ€è¦ç»Ÿä¸€ç®¡ç†å¤šä¸ªå­ç³»ç»Ÿ\r\n- éœ€è¦ç»´æŠ¤å…¨å±€çŠ¶æ€\r\n- éœ€è¦æ¸è¿›å¼æ‰©å±•åŠŸèƒ½\r\n- éœ€è¦ç®€åŒ–å®¢æˆ·ç«¯è°ƒç”¨\r\n\r\n**æµç¨‹å›¾ï¼š**\r\n```mermaid\r\nflowchart TD\r\n    A[å®¢æˆ·ç«¯è¯·æ±‚] --> B[Context ç»Ÿä¸€å…¥å£]\r\n    B --> C[ç»´æŠ¤ç³»ç»ŸçŠ¶æ€]\r\n    C --> D{åŠŸèƒ½ç±»å‹}\r\n    D -->|åŠŸèƒ½A| E[è°ƒç”¨å­ç³»ç»ŸA]\r\n    D -->|åŠŸèƒ½B| F[è°ƒç”¨å­ç³»ç»ŸB]\r\n    D -->|åŠŸèƒ½C| G[è°ƒç”¨å­ç³»ç»ŸC]\r\n    E --> H[æ›´æ–° Context çŠ¶æ€]\r\n    F --> H\r\n    G --> H\r\n    H --> I[è¿”å›ç»“æœç»™å®¢æˆ·ç«¯]\r\n    \r\n    J[æ¸è¿›å¼å¢å¼º] -.->|åŠ¨æ€æ·»åŠ | B\r\n    \r\n    style B fill:#e1f5ff\r\n    style C fill:#fff4e1\r\n    style J fill:#c8e6c9\r\n```\r\n\r\n---\r\n\r\n### 2. Pipeline-Filter (ç®¡é“-è¿‡æ»¤å™¨æ¨¡å¼)\r\n\r\n**æ ¸å¿ƒå®šä¹‰ï¼š**\r\n- å°†å¤æ‚å¤„ç†æµç¨‹åˆ†è§£ä¸ºå¤šä¸ªç‹¬ç«‹çš„è¿‡æ»¤å™¨\r\n- é€šè¿‡ç®¡é“è¿æ¥è¿‡æ»¤å™¨ï¼Œæ•°æ®åœ¨ç®¡é“ä¸­æµåŠ¨\r\n- æ¯ä¸ªè¿‡æ»¤å™¨ä¸“æ³¨äºå•ä¸€èŒè´£\r\n\r\n**æ ¸å¿ƒç‰¹ç‚¹ï¼š**\r\n- **æ•°æ®æµå¤„ç†**ï¼šæ•°æ®åœ¨ç®¡é“ä¸­å•å‘æµåŠ¨\r\n- **è¿‡æ»¤å™¨ç‹¬ç«‹**ï¼šæ¯ä¸ªè¿‡æ»¤å™¨å¯ç‹¬ç«‹å¼€å‘ã€æµ‹è¯•ã€æ›¿æ¢\r\n- **ç»„åˆçµæ´»**ï¼šé€šè¿‡ç»„åˆä¸åŒè¿‡æ»¤å™¨å®ç°å¤æ‚æµç¨‹\r\n- **æ˜“äºæ‰©å±•**ï¼šæ–°å¢è¿‡æ»¤å™¨ä¸å½±å“ç°æœ‰æµç¨‹\r\n\r\n**é€‚ç”¨åœºæ™¯ï¼š**\r\n- æ•°æ®å¤„ç†æµæ°´çº¿\r\n- æ•°æ®è½¬æ¢æµç¨‹\r\n- å¤šæ­¥éª¤éªŒè¯æµç¨‹\r\n- æ—¥å¿—å¤„ç†ç³»ç»Ÿ\r\n\r\n**æµç¨‹å›¾ï¼š**\r\n```mermaid\r\nflowchart LR\r\n    A[è¾“å…¥æ•°æ®] --> B[è¿‡æ»¤å™¨1]\r\n    B -->|ç®¡é“| C[è¿‡æ»¤å™¨2]\r\n    C -->|ç®¡é“| D[è¿‡æ»¤å™¨3]\r\n    D -->|ç®¡é“| E[è¿‡æ»¤å™¨N]\r\n    E --> F[è¾“å‡ºæ•°æ®]\r\n    \r\n    style B fill:#e1f5ff\r\n    style C fill:#e1f5ff\r\n    style D fill:#e1f5ff\r\n    style E fill:#e1f5ff\r\n```\r\n\r\n---\r\n\r\n### 3. Domain Controls Loop (é¢†åŸŸæ§åˆ¶å¾ªç¯æ¨¡å¼)\r\n\r\n**æ ¸å¿ƒå®šä¹‰ï¼š**\r\n- é¢†åŸŸé€»è¾‘æ§åˆ¶å¾ªç¯æµç¨‹\r\n- å°†æ§åˆ¶æƒäº¤ç»™é¢†åŸŸå±‚ï¼Œè€ŒéåŸºç¡€è®¾æ–½å±‚\r\n- å®ç°é¢†åŸŸé©±åŠ¨è®¾è®¡çš„æ ¸å¿ƒå¾ªç¯\r\n\r\n**æ ¸å¿ƒç‰¹ç‚¹ï¼š**\r\n- **é¢†åŸŸä¸»å¯¼**ï¼šé¢†åŸŸé€»è¾‘æ§åˆ¶æ•´ä¸ªæµç¨‹\r\n- **å¾ªç¯å¤„ç†**ï¼šæ”¯æŒå¾ªç¯å¤„ç†å¤šä¸ªé¢†åŸŸäº‹ä»¶\r\n- **è§£è€¦åŸºç¡€è®¾æ–½**ï¼šé¢†åŸŸå±‚ä¸ä¾èµ–å…·ä½“å®ç°\r\n- **æµ‹è¯•å‹å¥½**ï¼šé¢†åŸŸé€»è¾‘å¯ç‹¬ç«‹æµ‹è¯•\r\n\r\n**é€‚ç”¨åœºæ™¯ï¼š**\r\n- é¢†åŸŸé©±åŠ¨è®¾è®¡\r\n- ä¸šåŠ¡é€»è¾‘å¤æ‚çš„ç³»ç»Ÿ\r\n- éœ€è¦é¢†åŸŸå±‚ç‹¬ç«‹æµ‹è¯•çš„åœºæ™¯\r\n\r\n**æµç¨‹å›¾ï¼š**\r\n```mermaid\r\nflowchart TD\r\n    A[å¤–éƒ¨äº‹ä»¶] --> B[é¢†åŸŸå±‚æ¥æ”¶]\r\n    B --> C[é¢†åŸŸé€»è¾‘å¤„ç†]\r\n    C --> D[äº§ç”Ÿé¢†åŸŸäº‹ä»¶]\r\n    D --> E{æ˜¯å¦æœ‰åç»­å¤„ç†?}\r\n    E -->|æ˜¯| F[è§¦å‘ä¸‹ä¸€ä¸ªé¢†åŸŸé€»è¾‘]\r\n    E -->|å¦| G[å®Œæˆå¤„ç†]\r\n    F --> C\r\n    G --> H[è¿”å›ç»“æœ]\r\n    \r\n    style B fill:#e1f5ff\r\n    style C fill:#fff4e1\r\n```\r\n\r\n---\r\n\r\n### 4. Microkernel (å¾®å†…æ ¸æ¨¡å¼)\r\n\r\n**æ ¸å¿ƒå®šä¹‰ï¼š**\r\n- æ ¸å¿ƒç³»ç»Ÿæä¾›æœ€å°åŠŸèƒ½é›†\r\n- é€šè¿‡æ’ä»¶æœºåˆ¶æ‰©å±•åŠŸèƒ½\r\n- æ ¸å¿ƒä¸æ’ä»¶è§£è€¦ï¼Œæ”¯æŒåŠ¨æ€åŠ è½½\r\n\r\n**æ ¸å¿ƒç‰¹ç‚¹ï¼š**\r\n- **æœ€å°æ ¸å¿ƒ**ï¼šæ ¸å¿ƒåªæä¾›åŸºç¡€åŠŸèƒ½\r\n- **æ’ä»¶æ‰©å±•**ï¼šåŠŸèƒ½é€šè¿‡æ’ä»¶åŠ¨æ€æ·»åŠ \r\n- **çƒ­æ’æ‹”**ï¼šæ”¯æŒè¿è¡Œæ—¶åŠ è½½/å¸è½½æ’ä»¶\r\n- **æ¾è€¦åˆ**ï¼šæ’ä»¶ä¹‹é—´ç›¸äº’ç‹¬ç«‹\r\n\r\n**é€‚ç”¨åœºæ™¯ï¼š**\r\n- éœ€è¦åŠ¨æ€æ‰©å±•çš„ç³»ç»Ÿ\r\n- æ’ä»¶åŒ–æ¶æ„\r\n- å¯é…ç½®çš„ç³»ç»Ÿ\r\n- æ¡†æ¶è®¾è®¡\r\n\r\n**æµç¨‹å›¾ï¼š**\r\n```mermaid\r\nflowchart TD\r\n    A[å®¢æˆ·ç«¯è¯·æ±‚] --> B[å¾®å†…æ ¸æ¥æ”¶]\r\n    B --> C[æ ¸å¿ƒåŠŸèƒ½å¤„ç†]\r\n    C --> D{éœ€è¦æ’ä»¶?}\r\n    D -->|æ˜¯| E[æŸ¥æ‰¾æ’ä»¶]\r\n    D -->|å¦| F[è¿”å›ç»“æœ]\r\n    E --> G{æ’ä»¶æ˜¯å¦å­˜åœ¨?}\r\n    G -->|æ˜¯| H[è°ƒç”¨æ’ä»¶]\r\n    G -->|å¦| I[ä½¿ç”¨é»˜è®¤å¤„ç†]\r\n    H --> J[æ’ä»¶å¤„ç†]\r\n    J --> F\r\n    I --> F\r\n    \r\n    style B fill:#e1f5ff\r\n    style E fill:#fff4e1\r\n```\r\n\r\n---\r\n\r\n### 5. Formula System (å…¬å¼ç³»ç»Ÿæ¨¡å¼)\r\n\r\n**æ ¸å¿ƒå®šä¹‰ï¼š**\r\n- ä¸‰å±‚æ¶æ„ï¼šå­—ç¬¦ä¸²è§£æ â†’ Luaå‡½æ•°ç¼–è¯‘ â†’ æ‰§è¡Œ\r\n- æ”¯æŒåŠ¨æ€å…¬å¼è®¡ç®—\r\n- é€šè¿‡ç¼–è¯‘ä¼˜åŒ–æ€§èƒ½\r\n\r\n**æ ¸å¿ƒç‰¹ç‚¹ï¼š**\r\n- **ä¸‰å±‚æ¶æ„**ï¼šè§£æå±‚ã€ç¼–è¯‘å±‚ã€æ‰§è¡Œå±‚\r\n- **åŠ¨æ€ç¼–è¯‘**ï¼šå­—ç¬¦ä¸²å…¬å¼ç¼–è¯‘ä¸º Lua å‡½æ•°\r\n- **æ€§èƒ½ä¼˜åŒ–**ï¼šç¼–è¯‘åæ‰§è¡Œï¼Œé¿å…é‡å¤è§£æ\r\n- **ç¼“å­˜æœºåˆ¶**ï¼šç¼–è¯‘ç»“æœç¼“å­˜ï¼Œæé«˜æ•ˆç‡\r\n\r\n**é€‚ç”¨åœºæ™¯ï¼š**\r\n- åŠ¨æ€å…¬å¼è®¡ç®—\r\n- è§„åˆ™å¼•æ“\r\n- é…ç½®é©±åŠ¨çš„è®¡ç®—\r\n- æŠ€èƒ½ç³»ç»Ÿ\r\n\r\n**æµç¨‹å›¾ï¼š**\r\n```mermaid\r\nflowchart TD\r\n    A[è¾“å…¥å…¬å¼å­—ç¬¦ä¸²] --> B[è§£æå±‚: è¯æ³•/è¯­æ³•åˆ†æ]\r\n    B --> C{æ˜¯å¦å·²ç¼–è¯‘?}\r\n    C -->|æ˜¯| D[ä»ç¼“å­˜è·å–]\r\n    C -->|å¦| E[ç¼–è¯‘å±‚: ç”Ÿæˆ Lua å‡½æ•°]\r\n    E --> F[ç¼“å­˜ç¼–è¯‘ç»“æœ]\r\n    F --> D\r\n    D --> G[æ‰§è¡Œå±‚: æ‰§è¡Œ Lua å‡½æ•°]\r\n    G --> H[è¿”å›è®¡ç®—ç»“æœ]\r\n    \r\n    style B fill:#e1f5ff\r\n    style E fill:#fff4e1\r\n    style G fill:#c8e6c9\r\n```\r\n\r\n---\r\n\r\n## ğŸ“Š æ¨¡å¼åˆ†ç±»å»ºè®®\r\n\r\n### æ–°å¢åˆ†ç±»ï¼šArchitectural Patterns (æ¶æ„æ¨¡å¼)\r\n\r\n```\r\nArchitectural Patterns (æ¶æ„æ¨¡å¼) - ç³»ç»Ÿçº§æ¶æ„è®¾è®¡\r\nâ”œâ”€â”€ Context (ä¸Šä¸‹æ–‡æ¨¡å¼) - ç»Ÿä¸€æ¥å£ï¼Œæ¸è¿›å¼å¢å¼ºï¼ŒçŠ¶æ€ç»´æŠ¤\r\nâ”œâ”€â”€ PipelineFilter (ç®¡é“-è¿‡æ»¤å™¨æ¨¡å¼) - æ•°æ®æµå¤„ç†ï¼Œè¿‡æ»¤å™¨ç»„åˆ\r\nâ”œâ”€â”€ DomainControlsLoop (é¢†åŸŸæ§åˆ¶å¾ªç¯æ¨¡å¼) - é¢†åŸŸé©±åŠ¨ï¼Œå¾ªç¯å¤„ç†\r\nâ”œâ”€â”€ Microkernel (å¾®å†…æ ¸æ¨¡å¼) - æœ€å°æ ¸å¿ƒï¼Œæ’ä»¶æ‰©å±•\r\nâ””â”€â”€ FormulaSystem (å…¬å¼ç³»ç»Ÿæ¨¡å¼) - ä¸‰å±‚æ¶æ„ï¼ŒåŠ¨æ€ç¼–è¯‘\r\n```\r\n\r\n---\r\n\r\n## ğŸ¯ æ¨èä¼˜å…ˆçº§\r\n\r\n### é«˜ä¼˜å…ˆçº§ï¼ˆå»ºè®®ç«‹å³æ·»åŠ ï¼‰\r\n1. **Context (ä¸Šä¸‹æ–‡æ¨¡å¼)** - ç”¨æˆ·è‡ªåˆ›ï¼Œæ ¸å¿ƒè®¾è®¡æ¨¡å¼\r\n2. **Pipeline-Filter (ç®¡é“-è¿‡æ»¤å™¨æ¨¡å¼)** - å¸¸è§æ¶æ„æ¨¡å¼ï¼Œå®ç”¨æ€§å¼º\r\n\r\n### ä¸­ä¼˜å…ˆçº§ï¼ˆå¯è€ƒè™‘æ·»åŠ ï¼‰\r\n3. **Microkernel (å¾®å†…æ ¸æ¨¡å¼)** - æ¡†æ¶è®¾è®¡å¸¸ç”¨\r\n4. **Formula System (å…¬å¼ç³»ç»Ÿæ¨¡å¼)** - ç‰¹å®šåœºæ™¯å¾ˆæœ‰ä»·å€¼\r\n\r\n### ä½ä¼˜å…ˆçº§ï¼ˆå¯é€‰ï¼‰\r\n5. **Domain Controls Loop (é¢†åŸŸæ§åˆ¶å¾ªç¯æ¨¡å¼)** - ç‰¹å®šäº DDD åœºæ™¯\r\n\r\n---\r\n\r\n## ğŸ’¡ è®¾è®¡æ€è·¯æ€»ç»“\r\n\r\n### æ ¸å¿ƒè®¾è®¡ç†å¿µ\r\n1. **è§£æ„ç»“æ„** - å°†å¤æ‚ç³»ç»Ÿåˆ†è§£ä¸ºç®€å•ç»„ä»¶\r\n2. **ç»Ÿä¸€æ¥å£** - é€šè¿‡ç»Ÿä¸€å…¥å£ç®€åŒ–è°ƒç”¨\r\n3. **æ¸è¿›å¼å¢å¼º** - åŠŸèƒ½å¯é€æ­¥æ·»åŠ ï¼Œä¸ç ´åç°æœ‰ç»“æ„\r\n4. **æ•°æ®é©±åŠ¨** - é€šè¿‡é…ç½®æ•°æ®é©±åŠ¨è¡Œä¸º\r\n5. **çŠ¶æ€ç®¡ç†** - ç»Ÿä¸€ç®¡ç†çŠ¶æ€ï¼Œé¿å…åˆ†æ•£\r\n\r\n### è®¾è®¡åŸåˆ™\r\n- **å•ä¸€èŒè´£** - æ¯ä¸ªç»„ä»¶ä¸“æ³¨å•ä¸€åŠŸèƒ½\r\n- **å¼€é—­åŸåˆ™** - å¯¹æ‰©å±•å¼€æ”¾ï¼Œå¯¹ä¿®æ”¹å…³é—­\r\n- **ä¾èµ–å€’ç½®** - ä¾èµ–æŠ½è±¡è€Œéå…·ä½“å®ç°\r\n- **æ¥å£éš”ç¦»** - æä¾›æœ€å°å¿…è¦æ¥å£\r\n- **é‡Œæ°æ›¿æ¢** - å­ç±»å¯æ›¿æ¢çˆ¶ç±»\r\n\r\n---\r\n\r\n## ğŸ“ ä¸‹ä¸€æ­¥è¡ŒåŠ¨\r\n\r\n1. å°† Context æ¨¡å¼æ·»åŠ åˆ°è®¾è®¡æ¨¡å¼åº“ï¼ˆé«˜ä¼˜å…ˆçº§ï¼‰\r\n2. ä¸ºæ¯ä¸ªæ–°æ¨¡å¼åˆ›å»ºè¯¦ç»†çš„æµç¨‹å›¾\r\n3. è¡¥å……å®é™…åº”ç”¨åœºæ™¯å’Œä»£ç ç¤ºä¾‹\r\n4. æ›´æ–°è®¾è®¡æ¨¡å¼åˆ†ç±»ä½“ç³»\r\n"
        }
    ]
}