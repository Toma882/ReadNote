{
    "sourceFile": "Editor/OdinSamplesCreator.cs",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 0,
            "patches": [
                {
                    "date": 1763142594089,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                }
            ],
            "date": 1763142594089,
            "name": "Commit-0",
            "content": "#if UNITY_EDITOR\r\nusing UnityEngine;\r\nusing UnityEditor;\r\n\r\nnamespace OdinSamples.Editor\r\n{\r\n    /// <summary>\r\n    /// Odin 示例创建器\r\n    /// 提供快捷菜单创建所有示例对象\r\n    /// </summary>\r\n    public static class OdinSamplesCreator\r\n    {\r\n        private const string MENU_ROOT = \"GameObject/Odin Samples/\";\r\n        \r\n        [MenuItem(MENU_ROOT + \"创建所有示例\", false, 0)]\r\n        private static void CreateAllSamples()\r\n        {\r\n            CreateBasicAttributesSample();\r\n            CreateCollectionsSample();\r\n            CreateButtonsSample();\r\n            CreateValidationSample();\r\n            CreateGroupsSample();\r\n            CreateConditionalSample();\r\n            CreateValueDropdownsSample();\r\n            CreateAdvancedSample();\r\n            CreateCustomEditorSample();\r\n            CreateSerializationSample();\r\n            \r\n            Debug.Log(\"✅ 已创建所有 Odin Inspector 示例对象（不包括编辑器窗口）\");\r\n        }\r\n        \r\n        [MenuItem(MENU_ROOT + \"01 - 基础属性示例\", false, 1)]\r\n        private static void CreateBasicAttributesSample()\r\n        {\r\n            CreateSample<BasicAttributes.BasicAttributesSample>(\"01_基础属性示例\");\r\n        }\r\n        \r\n        [MenuItem(MENU_ROOT + \"02 - 集合示例\", false, 2)]\r\n        private static void CreateCollectionsSample()\r\n        {\r\n            CreateSample<Collections.CollectionsSample>(\"02_集合示例\");\r\n        }\r\n        \r\n        [MenuItem(MENU_ROOT + \"03 - 按钮示例\", false, 3)]\r\n        private static void CreateButtonsSample()\r\n        {\r\n            CreateSample<Buttons.ButtonsSample>(\"03_按钮示例\");\r\n        }\r\n        \r\n        [MenuItem(MENU_ROOT + \"04 - 验证示例\", false, 4)]\r\n        private static void CreateValidationSample()\r\n        {\r\n            CreateSample<Validation.ValidationSample>(\"04_验证示例\");\r\n        }\r\n        \r\n        [MenuItem(MENU_ROOT + \"05 - 分组示例\", false, 5)]\r\n        private static void CreateGroupsSample()\r\n        {\r\n            CreateSample<Groups.GroupsSample>(\"05_分组示例\");\r\n        }\r\n        \r\n        [MenuItem(MENU_ROOT + \"06 - 条件显示示例\", false, 6)]\r\n        private static void CreateConditionalSample()\r\n        {\r\n            CreateSample<Conditional.ConditionalSample>(\"06_条件显示示例\");\r\n        }\r\n        \r\n        [MenuItem(MENU_ROOT + \"07 - 下拉选择器示例\", false, 7)]\r\n        private static void CreateValueDropdownsSample()\r\n        {\r\n            CreateSample<ValueDropdowns.ValueDropdownsSample>(\"07_下拉选择器示例\");\r\n        }\r\n        \r\n        [MenuItem(MENU_ROOT + \"08 - 高级特性示例\", false, 8)]\r\n        private static void CreateAdvancedSample()\r\n        {\r\n            CreateSample<Advanced.AdvancedSample>(\"08_高级特性示例\");\r\n        }\r\n        \r\n        [MenuItem(MENU_ROOT + \"12 - 序列化示例\", false, 12)]\r\n        private static void CreateSerializationSample()\r\n        {\r\n            CreateSample<Serialization.SerializationSample>(\"12_序列化示例\");\r\n        }\r\n        \r\n        [MenuItem(MENU_ROOT + \"10 - 自定义编辑器示例\", false, 10)]\r\n        private static void CreateCustomEditorSample()\r\n        {\r\n            CreateSample<CustomEditors.CustomOdinEditorSample>(\"10_自定义编辑器示例\");\r\n        }\r\n        \r\n        [MenuItem(MENU_ROOT + \"删除所有示例\", false, 100)]\r\n        private static void DeleteAllSamples()\r\n        {\r\n            if (EditorUtility.DisplayDialog(\"删除确认\", \r\n                \"确定要删除场景中所有 Odin 示例对象吗？\", \r\n                \"删除\", \"取消\"))\r\n            {\r\n                int count = 0;\r\n                var samples = Object.FindObjectsOfType<MonoBehaviour>();\r\n                foreach (var sample in samples)\r\n                {\r\n                    if (sample.GetType().Namespace != null && \r\n                        sample.GetType().Namespace.StartsWith(\"OdinSamples\"))\r\n                    {\r\n                        Object.DestroyImmediate(sample.gameObject);\r\n                        count++;\r\n                    }\r\n                }\r\n                \r\n                Debug.Log($\"已删除 {count} 个示例对象\");\r\n            }\r\n        }\r\n        \r\n        private static void CreateSample<T>(string name) where T : MonoBehaviour\r\n        {\r\n            // 检查是否已存在\r\n            var existing = Object.FindObjectOfType<T>();\r\n            if (existing != null)\r\n            {\r\n                Selection.activeGameObject = existing.gameObject;\r\n                EditorGUIUtility.PingObject(existing.gameObject);\r\n                Debug.Log($\"⚠️ {name} 已存在，已选中该对象\");\r\n                return;\r\n            }\r\n            \r\n            // 创建新对象\r\n            GameObject go = new GameObject(name);\r\n            go.AddComponent<T>();\r\n            \r\n            // 设置位置\r\n            if (Selection.activeGameObject != null)\r\n            {\r\n                go.transform.SetParent(Selection.activeGameObject.transform);\r\n            }\r\n            \r\n            // 选中新对象\r\n            Selection.activeGameObject = go;\r\n            EditorGUIUtility.PingObject(go);\r\n            \r\n            // 标记场景为已修改\r\n            UnityEditor.SceneManagement.EditorSceneManager.MarkSceneDirty(\r\n                go.scene);\r\n            \r\n            Debug.Log($\"✅ 已创建 {name}\");\r\n        }\r\n    }\r\n    \r\n    /// <summary>\r\n    /// Odin 示例文档查看器\r\n    /// </summary>\r\n    public static class OdinSamplesDocViewer\r\n    {\r\n        [MenuItem(\"Tools/Odin Samples/Windows/01 - 简单窗口\", false, 1)]\r\n        private static void OpenSimpleWindow()\r\n        {\r\n            EditorWindow.GetWindow<EditorWindows.SimpleOdinWindowSample>().Show();\r\n        }\r\n        \r\n        [MenuItem(\"Tools/Odin Samples/Windows/02 - 菜单窗口\", false, 2)]\r\n        private static void OpenMenuWindow()\r\n        {\r\n            EditorWindow.GetWindow<EditorWindows.OdinMenuWindowSample>().Show();\r\n        }\r\n        \r\n        [MenuItem(\"Tools/Odin Samples/Windows/03 - 高级窗口\", false, 3)]\r\n        private static void OpenAdvancedWindow()\r\n        {\r\n            EditorWindow.GetWindow<EditorWindows.AdvancedWindowSample>().Show();\r\n        }\r\n        \r\n        [MenuItem(\"Tools/Odin Samples/打开使用文档\", false, 100)]\r\n        private static void OpenUsageDoc()\r\n        {\r\n            string path = \"Assets/Scripts/OdinSamples/README_USAGE.md\";\r\n            UnityEditorInternal.InternalEditorUtility.OpenFileAtLineExternal(path, 1);\r\n        }\r\n        \r\n        [MenuItem(\"Tools/Odin Samples/打开总览文档\", false, 1)]\r\n        private static void OpenOverviewDoc()\r\n        {\r\n            string path = \"Assets/Scripts/OdinSamples/README.md\";\r\n            UnityEditorInternal.InternalEditorUtility.OpenFileAtLineExternal(path, 1);\r\n        }\r\n        \r\n        [MenuItem(\"Tools/Odin Samples/打开 Odin 官方文档\", false, 20)]\r\n        private static void OpenOdinDocs()\r\n        {\r\n            Application.OpenURL(\"https://odininspector.com/attributes\");\r\n        }\r\n        \r\n        [MenuItem(\"Tools/Odin Samples/关于 Odin Samples\", false, 100)]\r\n        private static void ShowAbout()\r\n        {\r\n            EditorUtility.DisplayDialog(\r\n                \"关于 Odin Samples\",\r\n                \"Odin Inspector 完整功能演示\\n\\n\" +\r\n                \"包含以下模块：\\n\" +\r\n                \"• 基础属性 - 基本标注特性\\n\" +\r\n                \"• 集合 - 列表和数组显示\\n\" +\r\n                \"• 按钮 - 方法按钮\\n\" +\r\n                \"• 验证 - 数据验证\\n\" +\r\n                \"• 分组 - 布局分组\\n\" +\r\n                \"• 条件显示 - 动态显示\\n\" +\r\n                \"• 下拉选择器 - 自定义下拉框\\n\" +\r\n                \"• 高级特性 - 高级功能\\n\\n\" +\r\n                \"所有示例均配有详细的中文注释\\n\" +\r\n                \"可以直接在场景中运行查看效果\",\r\n                \"确定\"\r\n            );\r\n        }\r\n    }\r\n}\r\n#endif\r\n\r\n"
        }
    ]
}