{
    "sourceFile": "UnityEditor/Assets/~UnityAPI/UnityEngine/GameObject/GameObjectTransformExample.cs.txt",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 0,
            "patches": [
                {
                    "date": 1766053302914,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                }
            ],
            "date": 1766053302914,
            "name": "Commit-0",
            "content": "using UnityEngine;\r\nusing System.Collections.Generic;\r\n\r\n/// <summary>\r\n/// Unity GameObject 和 Transform 完整 API 示例\r\n/// GameObject 是 Unity 场景中的基本对象，Transform 是 GameObject 的位置、旋转和缩放组件\r\n/// </summary>\r\npublic class GameObjectTransformExample : MonoBehaviour\r\n{\r\n    [Header(\"查找设置\")]\r\n    [SerializeField] private string targetName = \"Target\";\r\n    [SerializeField] private string targetTag = \"Player\";\r\n    [SerializeField] private GameObject targetPrefab;\r\n    \r\n    [Header(\"Transform 设置\")]\r\n    [SerializeField] private Vector3 targetPosition = Vector3.zero;\r\n    [SerializeField] private Vector3 targetRotation = Vector3.zero;\r\n    [SerializeField] private Vector3 targetScale = Vector3.one;\r\n    \r\n    [Header(\"实例化设置\")]\r\n    [SerializeField] private int instantiateCount = 5;\r\n    [SerializeField] private Vector3 spawnOffset = new Vector3(2, 0, 0);\r\n    \r\n    private List<GameObject> instantiatedObjects = new List<GameObject>();\r\n    \r\n    private void Start()\r\n    {\r\n        Debug.Log(\"=== Unity GameObject 和 Transform 完整 API 示例 ===\");\r\n        \r\n        TestAllGameObjectFeatures();\r\n        TestAllTransformFeatures();\r\n    }\r\n    \r\n    #region 1. GameObject 查找操作\r\n    \r\n    /// <summary>\r\n    /// 测试所有 GameObject 功能\r\n    /// </summary>\r\n    private void TestAllGameObjectFeatures()\r\n    {\r\n        Debug.Log(\"\\n--- 1. GameObject 查找操作 ---\");\r\n        \r\n        // 1.1 Find 查找\r\n        TestGameObjectFind();\r\n        \r\n        // 1.2 FindWithTag 查找\r\n        TestGameObjectFindWithTag();\r\n        \r\n        // 1.3 FindGameObjectsWithTag 查找多个\r\n        TestGameObjectFindGameObjectsWithTag();\r\n        \r\n        Debug.Log(\"\\n--- 2. GameObject 创建和销毁 ---\");\r\n        \r\n        // 2.1 Instantiate 实例化\r\n        TestInstantiate();\r\n        \r\n        // 2.2 Destroy 销毁\r\n        TestDestroy();\r\n        \r\n        // 2.3 DestroyImmediate 立即销毁\r\n        TestDestroyImmediate();\r\n        \r\n        Debug.Log(\"\\n--- 3. GameObject 激活状态 ---\");\r\n        \r\n        // 3.1 SetActive 激活/禁用\r\n        TestSetActive();\r\n        \r\n        // 3.2 activeSelf / activeInHierarchy\r\n        TestActiveState();\r\n        \r\n        Debug.Log(\"\\n--- 4. GameObject 其他操作 ---\");\r\n        \r\n        // 4.1 DontDestroyOnLoad\r\n        TestDontDestroyOnLoad();\r\n        \r\n        // 4.2 name / tag / layer\r\n        TestGameObjectProperties();\r\n    }\r\n    \r\n    /// <summary>\r\n    /// 1.1 GameObject.Find - 按名称查找\r\n    /// 注意：性能较差，建议缓存结果或使用其他查找方式\r\n    /// </summary>\r\n    private void TestGameObjectFind()\r\n    {\r\n        Debug.Log(\"1.1 GameObject.Find - 按名称查找\");\r\n        \r\n        // 查找指定名称的 GameObject\r\n        GameObject found = GameObject.Find(targetName);\r\n        \r\n        if (found != null)\r\n        {\r\n            Debug.Log($\"找到 GameObject: {found.name}\");\r\n        }\r\n        else\r\n        {\r\n            Debug.Log($\"未找到名称为 '{targetName}' 的 GameObject\");\r\n        }\r\n        \r\n        // 查找路径（使用 / 分隔）\r\n        GameObject foundByPath = GameObject.Find(\"Parent/Child\");\r\n        if (foundByPath != null)\r\n        {\r\n            Debug.Log($\"通过路径找到: {foundByPath.name}\");\r\n        }\r\n        \r\n        // 性能警告：GameObject.Find 会遍历场景中所有对象，性能较差\r\n        // 建议：在 Start 中查找并缓存，或使用其他查找方式\r\n    }\r\n    \r\n    /// <summary>\r\n    /// 1.2 GameObject.FindWithTag - 按标签查找单个对象\r\n    /// </summary>\r\n    private void TestGameObjectFindWithTag()\r\n    {\r\n        Debug.Log(\"1.2 GameObject.FindWithTag - 按标签查找\");\r\n        \r\n        GameObject found = GameObject.FindWithTag(targetTag);\r\n        \r\n        if (found != null)\r\n        {\r\n            Debug.Log($\"找到标签为 '{targetTag}' 的 GameObject: {found.name}\");\r\n        }\r\n        else\r\n        {\r\n            Debug.Log($\"未找到标签为 '{targetTag}' 的 GameObject\");\r\n        }\r\n    }\r\n    \r\n    /// <summary>\r\n    /// 1.3 GameObject.FindGameObjectsWithTag - 按标签查找多个对象\r\n    /// </summary>\r\n    private void TestGameObjectFindGameObjectsWithTag()\r\n    {\r\n        Debug.Log(\"1.3 GameObject.FindGameObjectsWithTag - 按标签查找多个\");\r\n        \r\n        GameObject[] foundObjects = GameObject.FindGameObjectsWithTag(targetTag);\r\n        \r\n        Debug.Log($\"找到 {foundObjects.Length} 个标签为 '{targetTag}' 的 GameObject\");\r\n        \r\n        foreach (GameObject obj in foundObjects)\r\n        {\r\n            Debug.Log($\"  - {obj.name}\");\r\n        }\r\n    }\r\n    \r\n    #endregion\r\n    \r\n    #region 2. GameObject 创建和销毁\r\n    \r\n    /// <summary>\r\n    /// 2.1 Instantiate - 实例化 GameObject\r\n    /// 可以实例化 Prefab、GameObject 或其他 Object\r\n    /// </summary>\r\n    private void TestInstantiate()\r\n    {\r\n        Debug.Log(\"2.1 Instantiate - 实例化 GameObject\");\r\n        \r\n        if (targetPrefab != null)\r\n        {\r\n            // 方式1：基本实例化\r\n            GameObject instance1 = Instantiate(targetPrefab);\r\n            instantiatedObjects.Add(instance1);\r\n            Debug.Log($\"实例化 GameObject: {instance1.name}\");\r\n            \r\n            // 方式2：指定位置和旋转\r\n            Vector3 position = transform.position + spawnOffset;\r\n            Quaternion rotation = Quaternion.identity;\r\n            GameObject instance2 = Instantiate(targetPrefab, position, rotation);\r\n            instantiatedObjects.Add(instance2);\r\n            Debug.Log($\"在位置 {position} 实例化 GameObject\");\r\n            \r\n            // 方式3：指定父对象\r\n            GameObject instance3 = Instantiate(targetPrefab, transform);\r\n            instantiatedObjects.Add(instance3);\r\n            Debug.Log($\"作为子对象实例化\");\r\n            \r\n            // 方式4：指定位置、旋转和父对象\r\n            GameObject instance4 = Instantiate(targetPrefab, position, rotation, transform);\r\n            instantiatedObjects.Add(instance4);\r\n            Debug.Log($\"完整参数实例化\");\r\n        }\r\n        else\r\n        {\r\n            // 创建空的 GameObject\r\n            GameObject newObject = new GameObject(\"NewGameObject\");\r\n            instantiatedObjects.Add(newObject);\r\n            Debug.Log(\"创建新的空 GameObject\");\r\n        }\r\n    }\r\n    \r\n    /// <summary>\r\n    /// 2.2 Destroy - 销毁 GameObject\r\n    /// 在帧结束时销毁，可以指定延迟时间\r\n    /// </summary>\r\n    private void TestDestroy()\r\n    {\r\n        Debug.Log(\"2.2 Destroy - 销毁 GameObject\");\r\n        \r\n        if (instantiatedObjects.Count > 0)\r\n        {\r\n            GameObject toDestroy = instantiatedObjects[0];\r\n            \r\n            // 立即销毁（在帧结束时）\r\n            Destroy(toDestroy);\r\n            instantiatedObjects.Remove(toDestroy);\r\n            Debug.Log($\"销毁 GameObject: {toDestroy.name}\");\r\n            \r\n            // 延迟销毁\r\n            if (instantiatedObjects.Count > 0)\r\n            {\r\n                GameObject toDestroyDelayed = instantiatedObjects[0];\r\n                Destroy(toDestroyDelayed, 2.0f); // 2秒后销毁\r\n                instantiatedObjects.Remove(toDestroyDelayed);\r\n                Debug.Log($\"将在 2 秒后销毁: {toDestroyDelayed.name}\");\r\n            }\r\n        }\r\n    }\r\n    \r\n    /// <summary>\r\n    /// 2.3 DestroyImmediate - 立即销毁\r\n    /// 注意：只能在编辑器中或 Destroy 不可用时使用\r\n    /// </summary>\r\n    private void TestDestroyImmediate()\r\n    {\r\n        Debug.Log(\"2.3 DestroyImmediate - 立即销毁\");\r\n        \r\n        // DestroyImmediate 会立即销毁对象，不等待帧结束\r\n        // 注意：运行时使用 Destroy，编辑器中可以使用 DestroyImmediate\r\n        \r\n        #if UNITY_EDITOR\r\n        if (instantiatedObjects.Count > 0)\r\n        {\r\n            GameObject toDestroy = instantiatedObjects[0];\r\n            DestroyImmediate(toDestroy);\r\n            instantiatedObjects.Remove(toDestroy);\r\n            Debug.Log($\"立即销毁 GameObject: {toDestroy.name}\");\r\n        }\r\n        #endif\r\n    }\r\n    \r\n    #endregion\r\n    \r\n    #region 3. GameObject 激活状态\r\n    \r\n    /// <summary>\r\n    /// 3.1 SetActive - 激活/禁用 GameObject\r\n    /// </summary>\r\n    private void TestSetActive()\r\n    {\r\n        Debug.Log(\"3.1 SetActive - 激活/禁用\");\r\n        \r\n        if (instantiatedObjects.Count > 0)\r\n        {\r\n            GameObject obj = instantiatedObjects[0];\r\n            \r\n            // 禁用\r\n            obj.SetActive(false);\r\n            Debug.Log($\"禁用 GameObject: {obj.name}, activeSelf: {obj.activeSelf}\");\r\n            \r\n            // 激活\r\n            obj.SetActive(true);\r\n            Debug.Log($\"激活 GameObject: {obj.name}, activeSelf: {obj.activeSelf}\");\r\n        }\r\n    }\r\n    \r\n    /// <summary>\r\n    /// 3.2 activeSelf / activeInHierarchy\r\n    /// activeSelf: 对象自身的激活状态\r\n    /// activeInHierarchy: 对象在层级中的实际激活状态（考虑父对象）\r\n    /// </summary>\r\n    private void TestActiveState()\r\n    {\r\n        Debug.Log(\"3.2 activeSelf / activeInHierarchy\");\r\n        \r\n        if (instantiatedObjects.Count > 0)\r\n        {\r\n            GameObject obj = instantiatedObjects[0];\r\n            \r\n            Debug.Log($\"activeSelf: {obj.activeSelf}\"); // 自身状态\r\n            Debug.Log($\"activeInHierarchy: {obj.activeInHierarchy}\"); // 层级中的实际状态\r\n            \r\n            // 如果父对象被禁用，即使子对象 activeSelf = true，activeInHierarchy 也会是 false\r\n            if (obj.transform.parent != null)\r\n            {\r\n                obj.transform.parent.gameObject.SetActive(false);\r\n                Debug.Log($\"父对象禁用后 - activeSelf: {obj.activeSelf}, activeInHierarchy: {obj.activeInHierarchy}\");\r\n                obj.transform.parent.gameObject.SetActive(true);\r\n            }\r\n        }\r\n    }\r\n    \r\n    #endregion\r\n    \r\n    #region 4. GameObject 其他操作\r\n    \r\n    /// <summary>\r\n    /// 4.1 DontDestroyOnLoad - 场景切换时不销毁\r\n    /// 常用于单例对象、游戏管理器等\r\n    /// </summary>\r\n    private void TestDontDestroyOnLoad()\r\n    {\r\n        Debug.Log(\"4.1 DontDestroyOnLoad - 场景切换不销毁\");\r\n        \r\n        GameObject persistentObject = new GameObject(\"PersistentObject\");\r\n        DontDestroyOnLoad(persistentObject);\r\n        Debug.Log(\"设置 GameObject 在场景切换时不销毁\");\r\n        \r\n        // 注意：DontDestroyOnLoad 的对象会保留到新场景中\r\n        // 常用于：游戏管理器、音频管理器、数据管理器等\r\n    }\r\n    \r\n    /// <summary>\r\n    /// 4.2 GameObject 属性：name / tag / layer\r\n    /// </summary>\r\n    private void TestGameObjectProperties()\r\n    {\r\n        Debug.Log(\"4.2 GameObject 属性\");\r\n        \r\n        Debug.Log($\"当前 GameObject 名称: {gameObject.name}\");\r\n        Debug.Log($\"当前 GameObject 标签: {gameObject.tag}\");\r\n        Debug.Log($\"当前 GameObject 层级: {gameObject.layer}\");\r\n        \r\n        // 修改属性\r\n        gameObject.name = \"RenamedObject\";\r\n        // gameObject.tag = \"NewTag\"; // 需要先在 Tag Manager 中定义\r\n        // gameObject.layer = 5; // 设置层级\r\n        \r\n        Debug.Log($\"修改后的名称: {gameObject.name}\");\r\n    }\r\n    \r\n    #endregion\r\n    \r\n    #region 5. Transform 位置操作\r\n    \r\n    /// <summary>\r\n    /// 测试所有 Transform 功能\r\n    /// </summary>\r\n    private void TestAllTransformFeatures()\r\n    {\r\n        Debug.Log(\"\\n--- 5. Transform 位置操作 ---\");\r\n        \r\n        // 5.1 position / localPosition\r\n        TestTransformPosition();\r\n        \r\n        // 5.2 rotation / localRotation\r\n        TestTransformRotation();\r\n        \r\n        // 5.3 scale / localScale\r\n        TestTransformScale();\r\n        \r\n        Debug.Log(\"\\n--- 6. Transform 父子关系 ---\");\r\n        \r\n        // 6.1 parent / root\r\n        TestTransformParent();\r\n        \r\n        // 6.2 childCount / GetChild\r\n        TestTransformChildren();\r\n        \r\n        Debug.Log(\"\\n--- 7. Transform 变换方法 ---\");\r\n        \r\n        // 7.1 Translate / Rotate / LookAt\r\n        TestTransformMethods();\r\n        \r\n        Debug.Log(\"\\n--- 8. Transform 其他操作 ---\");\r\n        \r\n        // 8.1 SetParent\r\n        TestSetParent();\r\n        \r\n        // 8.2 Find\r\n        TestTransformFind();\r\n    }\r\n    \r\n    /// <summary>\r\n    /// 5.1 position / localPosition\r\n    /// position: 世界坐标位置\r\n    /// localPosition: 相对于父对象的本地位置\r\n    /// </summary>\r\n    private void TestTransformPosition()\r\n    {\r\n        Debug.Log(\"5.1 position / localPosition\");\r\n        \r\n        Transform t = transform;\r\n        \r\n        // 获取世界坐标位置\r\n        Vector3 worldPos = t.position;\r\n        Debug.Log($\"世界坐标位置: {worldPos}\");\r\n        \r\n        // 获取本地坐标位置\r\n        Vector3 localPos = t.localPosition;\r\n        Debug.Log($\"本地坐标位置: {localPos}\");\r\n        \r\n        // 设置世界坐标位置\r\n        t.position = targetPosition;\r\n        Debug.Log($\"设置世界坐标位置: {targetPosition}\");\r\n        \r\n        // 设置本地坐标位置\r\n        t.localPosition = Vector3.zero;\r\n        Debug.Log(\"设置本地坐标位置为原点\");\r\n    }\r\n    \r\n    /// <summary>\r\n    /// 5.2 rotation / localRotation\r\n    /// rotation: 世界坐标旋转（Quaternion）\r\n    /// localRotation: 相对于父对象的本地旋转\r\n    /// eulerAngles: 欧拉角（Vector3，用于显示和设置）\r\n    /// </summary>\r\n    private void TestTransformRotation()\r\n    {\r\n        Debug.Log(\"5.2 rotation / localRotation\");\r\n        \r\n        Transform t = transform;\r\n        \r\n        // 获取旋转（Quaternion）\r\n        Quaternion worldRot = t.rotation;\r\n        Debug.Log($\"世界坐标旋转（Quaternion）: {worldRot}\");\r\n        \r\n        // 获取欧拉角\r\n        Vector3 eulerAngles = t.eulerAngles;\r\n        Debug.Log($\"欧拉角: {eulerAngles}\");\r\n        \r\n        // 设置旋转（使用欧拉角）\r\n        t.eulerAngles = targetRotation;\r\n        Debug.Log($\"设置欧拉角: {targetRotation}\");\r\n        \r\n        // 设置旋转（使用 Quaternion）\r\n        t.rotation = Quaternion.Euler(targetRotation);\r\n        Debug.Log(\"使用 Quaternion 设置旋转\");\r\n        \r\n        // 本地旋转\r\n        t.localRotation = Quaternion.identity;\r\n        Debug.Log(\"设置本地旋转为单位旋转\");\r\n    }\r\n    \r\n    /// <summary>\r\n    /// 5.3 scale / localScale\r\n    /// scale: 世界坐标缩放（只读，通过 localScale 设置）\r\n    /// localScale: 相对于父对象的本地缩放\r\n    /// </summary>\r\n    private void TestTransformScale()\r\n    {\r\n        Debug.Log(\"5.3 scale / localScale\");\r\n        \r\n        Transform t = transform;\r\n        \r\n        // 获取世界坐标缩放（只读）\r\n        Vector3 worldScale = t.lossyScale;\r\n        Debug.Log($\"世界坐标缩放: {worldScale}\");\r\n        \r\n        // 获取本地缩放\r\n        Vector3 localScale = t.localScale;\r\n        Debug.Log($\"本地缩放: {localScale}\");\r\n        \r\n        // 设置本地缩放\r\n        t.localScale = targetScale;\r\n        Debug.Log($\"设置本地缩放: {targetScale}\");\r\n    }\r\n    \r\n    #endregion\r\n    \r\n    #region 6. Transform 父子关系\r\n    \r\n    /// <summary>\r\n    /// 6.1 parent / root\r\n    /// parent: 父对象 Transform\r\n    /// root: 根对象 Transform\r\n    /// </summary>\r\n    private void TestTransformParent()\r\n    {\r\n        Debug.Log(\"6.1 parent / root\");\r\n        \r\n        Transform t = transform;\r\n        \r\n        // 获取父对象\r\n        Transform parent = t.parent;\r\n        if (parent != null)\r\n        {\r\n            Debug.Log($\"父对象: {parent.name}\");\r\n        }\r\n        else\r\n        {\r\n            Debug.Log(\"没有父对象（根对象）\");\r\n        }\r\n        \r\n        // 获取根对象\r\n        Transform root = t.root;\r\n        Debug.Log($\"根对象: {root.name}\");\r\n    }\r\n    \r\n    /// <summary>\r\n    /// 6.2 childCount / GetChild\r\n    /// childCount: 子对象数量\r\n    /// GetChild: 获取指定索引的子对象\r\n    /// </summary>\r\n    private void TestTransformChildren()\r\n    {\r\n        Debug.Log(\"6.2 childCount / GetChild\");\r\n        \r\n        Transform t = transform;\r\n        \r\n        int childCount = t.childCount;\r\n        Debug.Log($\"子对象数量: {childCount}\");\r\n        \r\n        // 遍历所有子对象\r\n        for (int i = 0; i < childCount; i++)\r\n        {\r\n            Transform child = t.GetChild(i);\r\n            Debug.Log($\"子对象 {i}: {child.name}\");\r\n        }\r\n        \r\n        // 获取第一个子对象\r\n        if (childCount > 0)\r\n        {\r\n            Transform firstChild = t.GetChild(0);\r\n            Debug.Log($\"第一个子对象: {firstChild.name}\");\r\n        }\r\n    }\r\n    \r\n    #endregion\r\n    \r\n    #region 7. Transform 变换方法\r\n    \r\n    /// <summary>\r\n    /// 7.1 Translate / Rotate / LookAt\r\n    /// Translate: 平移\r\n    /// Rotate: 旋转\r\n    /// LookAt: 看向目标\r\n    /// </summary>\r\n    private void TestTransformMethods()\r\n    {\r\n        Debug.Log(\"7.1 Translate / Rotate / LookAt\");\r\n        \r\n        Transform t = transform;\r\n        \r\n        // Translate - 平移\r\n        t.Translate(Vector3.forward * 2.0f);\r\n        Debug.Log(\"向前平移 2 个单位\");\r\n        \r\n        // Translate - 相对自身坐标系\r\n        t.Translate(Vector3.right * 1.0f, Space.Self);\r\n        Debug.Log(\"相对自身向右平移 1 个单位\");\r\n        \r\n        // Translate - 世界坐标系\r\n        t.Translate(Vector3.up * 1.0f, Space.World);\r\n        Debug.Log(\"世界坐标系向上平移 1 个单位\");\r\n        \r\n        // Rotate - 旋转\r\n        t.Rotate(Vector3.up, 90.0f);\r\n        Debug.Log(\"绕 Y 轴旋转 90 度\");\r\n        \r\n        // Rotate - 相对自身\r\n        t.Rotate(Vector3.forward, 45.0f, Space.Self);\r\n        Debug.Log(\"相对自身绕 Z 轴旋转 45 度\");\r\n        \r\n        // LookAt - 看向目标\r\n        if (Camera.main != null)\r\n        {\r\n            t.LookAt(Camera.main.transform);\r\n            Debug.Log(\"看向主相机\");\r\n        }\r\n        \r\n        // LookAt - 指定位置\r\n        t.LookAt(targetPosition);\r\n        Debug.Log($\"看向位置: {targetPosition}\");\r\n    }\r\n    \r\n    #endregion\r\n    \r\n    #region 8. Transform 其他操作\r\n    \r\n    /// <summary>\r\n    /// 8.1 SetParent - 设置父对象\r\n    /// </summary>\r\n    private void TestSetParent()\r\n    {\r\n        Debug.Log(\"8.1 SetParent - 设置父对象\");\r\n        \r\n        if (instantiatedObjects.Count > 1)\r\n        {\r\n            GameObject child = instantiatedObjects[0];\r\n            GameObject parent = instantiatedObjects[1];\r\n            \r\n            // 设置父对象\r\n            child.transform.SetParent(parent.transform);\r\n            Debug.Log($\"设置 {child.name} 的父对象为 {parent.name}\");\r\n            \r\n            // 设置父对象并保持世界坐标\r\n            child.transform.SetParent(parent.transform, true);\r\n            Debug.Log(\"设置父对象并保持世界坐标\");\r\n            \r\n            // 移除父对象\r\n            child.transform.SetParent(null);\r\n            Debug.Log(\"移除父对象\");\r\n        }\r\n    }\r\n    \r\n    /// <summary>\r\n    /// 8.2 Transform.Find - 查找子对象\r\n    /// </summary>\r\n    private void TestTransformFind()\r\n    {\r\n        Debug.Log(\"8.2 Transform.Find - 查找子对象\");\r\n        \r\n        Transform t = transform;\r\n        \r\n        // 查找直接子对象\r\n        Transform found = t.Find(\"ChildName\");\r\n        if (found != null)\r\n        {\r\n            Debug.Log($\"找到子对象: {found.name}\");\r\n        }\r\n        \r\n        // 查找路径（使用 / 分隔）\r\n        Transform foundByPath = t.Find(\"Parent/Child\");\r\n        if (foundByPath != null)\r\n        {\r\n            Debug.Log($\"通过路径找到: {foundByPath.name}\");\r\n        }\r\n    }\r\n    \r\n    #endregion\r\n    \r\n    private void OnDestroy()\r\n    {\r\n        // 清理实例化的对象\r\n        foreach (GameObject obj in instantiatedObjects)\r\n        {\r\n            if (obj != null)\r\n            {\r\n                Destroy(obj);\r\n            }\r\n        }\r\n        instantiatedObjects.Clear();\r\n    }\r\n}\r\n\r\n#region 最佳实践总结\r\n\r\n/*\r\n * Unity GameObject 和 Transform 最佳实践：\r\n * \r\n * 1. GameObject 查找：\r\n *    - GameObject.Find: 性能较差，建议缓存结果\r\n *    - FindWithTag: 比 Find 稍好，但仍需遍历\r\n *    - 最佳实践：在 Start 中查找并缓存，或使用引用\r\n * \r\n * 2. 实例化和销毁：\r\n *    - Instantiate: 运行时创建对象\r\n *    - Destroy: 在帧结束时销毁（推荐）\r\n *    - DestroyImmediate: 立即销毁（仅编辑器）\r\n *    - 注意：频繁创建销毁会产生 GC，使用对象池优化\r\n * \r\n * 3. 激活状态：\r\n *    - SetActive(false): 禁用对象（仍占用内存）\r\n *    - activeSelf: 自身激活状态\r\n *    - activeInHierarchy: 层级中的实际激活状态\r\n *    - 注意：禁用对象不会执行 Update，但仍占用内存\r\n * \r\n * 4. Transform 位置：\r\n *    - position: 世界坐标（推荐用于移动）\r\n *    - localPosition: 本地坐标（相对于父对象）\r\n *    - 注意：修改 position 会触发物理更新\r\n * \r\n * 5. Transform 旋转：\r\n *    - rotation: Quaternion（推荐，无万向锁）\r\n *    - eulerAngles: Vector3（易读，但有万向锁问题）\r\n *    - 注意：优先使用 Quaternion 进行旋转计算\r\n * \r\n * 6. Transform 缩放：\r\n *    - localScale: 本地缩放\r\n *    - lossyScale: 世界缩放（只读）\r\n *    - 注意：缩放会影响碰撞体大小\r\n * \r\n * 7. 父子关系：\r\n *    - SetParent: 设置父对象\r\n *    - parent: 获取父对象\r\n *    - root: 获取根对象\r\n *    - 注意：子对象会跟随父对象变换\r\n * \r\n * 8. 性能优化：\r\n *    - 缓存 Transform 引用（transform 是属性，有开销）\r\n *    - 避免频繁查找 GameObject\r\n *    - 使用对象池减少 Instantiate/Destroy\r\n *    - 批量操作时使用 Transform.SetParent(null, false)\r\n * \r\n * 9. DontDestroyOnLoad：\r\n *    - 场景切换时不销毁\r\n *    - 常用于：单例、管理器、持久化数据\r\n *    - 注意：需要手动管理生命周期\r\n */\r\n\r\n#endregion\r\n\r\n"
        }
    ]
}